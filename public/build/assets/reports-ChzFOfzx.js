import{u as me,a as xe,b as pe,r as v,j as e}from"./app-DsbjyKGf.js";import{M as ge,T as V}from"./monitor-layout-Dq_xIMSU.js";import{g as L}from"./device-icons-Bh4xq8HI.js";import{c as T}from"./createLucideIcon-BnSOlFpd.js";import{S as H,C as $}from"./server-Ca-qE3nK.js";import{T as B}from"./trending-up-DAIWa4gS.js";import{C as G}from"./clock-cCztJzz1.js";import{W}from"./wifi-off-Df6rDOKK.js";import{A as Y}from"./activity-BRPubSy7.js";import"./app-DiM3Qhuw.js";import"./x-8qECKafY.js";import"./wifi-Ccv0dO_b.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],be=T("Calendar",he);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],fe=T("ChartColumn",ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ne=T("Download",ve);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],K=T("TrendingDown",je);function Me(){const{settings:ke}=me(),{t:A}=xe(),{props:X}=pe(),{currentBranch:m}=X,[h,q]=v.useState("7days"),[b,Q]=v.useState("all"),[w,Z]=v.useState([]),[J,ee]=v.useState([]),[ye,te]=v.useState([]),[we,ae]=v.useState(null),[u,se]=v.useState(null),[j,_]=v.useState(!0),[C,re]=v.useState([]);v.useEffect(()=>{m?.id&&(_(!0),fetch(`/api/devices?branch_id=${m.id}&per_page=10000&include_inactive=true`).then(t=>t.ok?t.json():{data:[]}).then(t=>{const r=t.data||t;re(r)}).catch(t=>console.error("Error fetching devices:",t)),fetch(`/api/reports/summary?branch_id=${m.id}&date_range=${h}&category=${b}`).then(t=>t.json()).then(t=>se(t)).catch(t=>console.error("Error fetching summary:",t)),fetch(`/api/reports/uptime-stats?branch_id=${m.id}&date_range=${h}&category=${b}`).then(t=>t.json()).then(t=>Z(t)).catch(t=>console.error("Error fetching uptime stats:",t)),fetch(`/api/reports/device-events?branch_id=${m.id}&date_range=${h}&limit=50`).then(t=>t.json()).then(t=>{const r=t.map(d=>({...d,timestamp:new Date(d.timestamp)}));ee(r)}).catch(t=>console.error("Error fetching device events:",t)),fetch(`/api/reports/category-stats?branch_id=${m.id}`).then(t=>t.json()).then(t=>te(t)).catch(t=>console.error("Error fetching category stats:",t)),fetch(`/api/reports/alert-summary?branch_id=${m.id}&date_range=${h}`).then(t=>t.json()).then(t=>ae(t)).catch(t=>console.error("Error fetching alert summary:",t)).finally(()=>_(!1)))},[m?.id,h,b]);const x=b==="all"?w:w.filter(t=>t.category===b),le=["all","Switches","Servers","WiFi","TAS","CCTV"],ie={Switches:w.filter(t=>t.category==="Switches"),Servers:w.filter(t=>t.category==="Servers"),WiFi:w.filter(t=>t.category==="WiFi"),TAS:w.filter(t=>t.category==="TAS"),CCTV:w.filter(t=>t.category==="CCTV")},O=t=>t>=99.9?{bg:"bg-emerald-50 dark:bg-emerald-950/20",text:"text-emerald-700 dark:text-emerald-400",bar:"bg-emerald-500",badge:"bg-emerald-100 dark:bg-emerald-900/30"}:t>=99.5?{bg:"bg-green-50 dark:bg-green-950/20",text:"text-green-700 dark:text-green-400",bar:"bg-green-500",badge:"bg-green-100 dark:bg-green-900/30"}:t>=99?{bg:"bg-amber-50 dark:bg-amber-950/20",text:"text-amber-700 dark:text-amber-400",bar:"bg-amber-500",badge:"bg-amber-100 dark:bg-amber-900/30"}:{bg:"bg-red-50 dark:bg-red-950/20",text:"text-red-700 dark:text-red-400",bar:"bg-red-500",badge:"bg-red-100 dark:bg-red-900/30"},de=()=>{const t=h==="24hours"?"Last 24 Hours":h==="7days"?"Last 7 Days":h==="30days"?"Last 30 Days":"Last 90 Days",r=new Date().toISOString().replace(/[:.]/g,"-"),d=m.name.replace(/[^a-zA-Z0-9]/g,"_"),c=u?.devicesMonitored||x.length,n=u?.avgUptime||(x.length>0?(x.reduce((a,s)=>a+(s.uptime||0),0)/x.length).toFixed(2):"0.00"),p=u?.totalIncidents||x.reduce((a,s)=>a+s.incidents,0),g=u?.totalDowntime?.formatted||"0m",i=b==="all"?C:C.filter(a=>{const s=a.category?.toLowerCase(),o=b.toLowerCase();return s===o||o==="wifi"&&s==="wifi"||o==="tas"&&s==="tas"||o==="cctv"&&s==="cctv"}),R=i.filter(a=>a.status==="online").length,U=i.filter(a=>a.status==="offline").length,M=i.filter(a=>a.status==="warning").length,F=i.filter(a=>a.status==="offline_ack").length,z={Switches:i.filter(a=>a.category?.toLowerCase()==="switches").length,Servers:i.filter(a=>a.category?.toLowerCase()==="servers").length,WiFi:i.filter(a=>a.category?.toLowerCase()==="wifi").length,TAS:i.filter(a=>a.category?.toLowerCase()==="tas").length,CCTV:i.filter(a=>a.category?.toLowerCase()==="cctv").length},l="=".repeat(80),ne=[[l],["UTHM HOST MONITORING SYSTEM"],["DEVICE UPTIME & PERFORMANCE REPORT"],[l],[""],["Report Information"],["---"],["Generated Date & Time:",new Date().toLocaleString("en-MY",{timeZone:"Asia/Kuala_Lumpur"})],["Branch:",`${m.name} (${m.code})`],["Report Period:",t],["Category Filter:",b==="all"?"All Devices":b],["Timezone:","Asia/Kuala_Lumpur (GMT+8)"],[""],[l],["EXECUTIVE SUMMARY"],[l],["Metric","Value","Percentage"],["---","---","---"],["Total Devices Monitored",c,"100%"],["Online Devices",R,`${(R/c*100).toFixed(1)}%`],["Offline Devices",U,`${(U/c*100).toFixed(1)}%`],["Warning Devices",M,`${(M/c*100).toFixed(1)}%`],["Acknowledged Offline",F,`${(F/c*100).toFixed(1)}%`],["Average Uptime",`${n}%`,""],["Total Incidents",p,""],["Total Downtime",g,`${u?.totalDowntime?.percentage||0}%`],[""],[l],["DEVICE DISTRIBUTION BY CATEGORY"],[l],["Category","Device Count","Percentage","Status"],["---","---","---","---"],...Object.entries(z).map(([a,s])=>[a,s,`${(s/c*100).toFixed(1)}%`,s>0?"Active":"No Devices"]),[""],[l],["DETAILED DEVICE STATISTICS"],[l],["Device Name","IP Address","MAC Address","Status","Category","Manufacturer","Model","Barcode","Location","Building","Uptime %","Downtime","Response Time","Incidents","Last Check","Last Incident","Health Status"],["---","---","---","---","---","---","---","---","---","---","---","---","---","---","---","---","---"],...x.sort((a,s)=>s.uptime-a.uptime).map(a=>{const s=i.find(f=>f.name===a.device),o=a.uptime>=99.9?"EXCELLENT â˜…â˜…â˜…â˜…â˜…":a.uptime>=99.5?"GOOD â˜…â˜…â˜…â˜…":a.uptime>=99?"FAIR â˜…â˜…â˜…":"POOR â˜…";return[a.device,s?.ip_address||"N/A",s?.mac_address||"N/A",s?.status?.toUpperCase()||"UNKNOWN",a.category,s?.brand||s?.hardware_detail?.brand||"N/A",s?.model||s?.hardware_detail?.hardware_model?.name||"N/A",s?.barcode||"N/A",s?.location||s?.location_name||"N/A",s?.building||"N/A",`${a.uptime}%`,a.downtime,s?.response_time?`${s.response_time}ms`:"N/A",a.incidents,s?.last_check||s?.last_ping?new Date(s?.last_check||s?.last_ping).toLocaleString():"Never",a.lastIncident,o]}),[""],[l],["CATEGORY PERFORMANCE ANALYSIS"],[l],["Category","Device Count","Avg Uptime %","Total Incidents","Health Rating","Status"],["---","---","---","---","---","---"],...Object.entries(z).map(([a,s])=>{const o=a.toLowerCase(),f=x.filter(y=>y.category.toLowerCase()===o||o==="wifi"&&y.category.toLowerCase()==="wifi"),k=f.length>0?(f.reduce((y,S)=>y+S.uptime,0)/f.length).toFixed(2):"0.00",E=f.reduce((y,S)=>y+S.incidents,0),N=parseFloat(k)>=99.9?"EXCELLENT â˜…â˜…â˜…â˜…â˜…":parseFloat(k)>=99.5?"GOOD â˜…â˜…â˜…â˜…":parseFloat(k)>=99?"FAIR â˜…â˜…â˜…":"POOR â˜…",I=s>0?"Operational":"No Devices";return[a,s,`${k}%`,E,N,I]}),[""],[l],["LOCATION ANALYSIS"],[l],["Location","Device Count","Avg Uptime %","Online","Offline","Status"],["---","---","---","---","---","---"],...Array.from(new Set(i.map(a=>a.location).filter(Boolean))).map(a=>{const s=i.filter(N=>N.location===a),o=s.length>0?(s.reduce((N,I)=>{const y=x.find(S=>i.find(ce=>ce.name===S.device)?.location===a);return N+(y?.uptime||I.uptime_percentage||0)},0)/s.length).toFixed(2):"0.00",f=s.filter(N=>N.status==="online").length,k=s.filter(N=>N.status==="offline").length,E=parseFloat(o)>=99?"Healthy":"Needs Attention";return[a,s.length,`${o}%`,f,k,E]}),[""],[l],["DEVICES REQUIRING ATTENTION (Uptime < 99%)"],[l],["Device Name","IP Address","Category","Location","Uptime %","Status","Priority","Action Required"],["---","---","---","---","---","---","---","---"],...x.filter(a=>a.uptime<99).map(a=>{const s=i.find(k=>k.name===a.device),o=a.uptime<95?"ðŸ”´ CRITICAL":a.uptime<97?"ðŸŸ¡ HIGH":"ðŸŸ¢ MEDIUM",f=a.uptime<95?"IMMEDIATE ACTION REQUIRED":a.uptime<97?"INVESTIGATE SOON":"MONITOR CLOSELY";return[a.device,s?.ip_address||"N/A",a.category,s?.location||"N/A",`${a.uptime}%`,s?.status?.toUpperCase()||"UNKNOWN",o,f]}),[""],[l],["CURRENTLY OFFLINE DEVICES"],[l],["Device Name","IP Address","Category","Location","Barcode","Last Seen","Offline Duration","Reason"],["---","---","---","---","---","---","---","---"],...i.filter(a=>a.status==="offline"||a.status==="offline_ack").map(a=>[a.name,a.ip_address,a.category.charAt(0).toUpperCase()+a.category.slice(1),a.location,a.barcode||"N/A",a.last_check?new Date(a.last_check).toLocaleString():"Never",a.status==="offline"?"Unknown":"Acknowledged",a.offline_reason||"Not specified"]),[""],[l],["REPORT METADATA"],[l],["Field","Value"],["---","---"],["Report Generated By","UTHM Host Monitoring System v6.0"],["Report Type","Device Uptime & Performance Analysis"],["Data Source",`${m.name} Branch Database`],["Total Records",x.length],["Export Timestamp",r],["Report ID",`RPT-${r}`],[""],[l],["END OF REPORT"],[l]].map(a=>a.join(",")).join(`
`),oe=new Blob(["\uFEFF"+ne],{type:"text/csv;charset=utf-8;"}),P=window.URL.createObjectURL(oe),D=document.createElement("a");D.href=P,D.download=`UTHM_Device_Report_${d}_${h}_${r}.csv`,document.body.appendChild(D),D.click(),document.body.removeChild(D),window.URL.revokeObjectURL(P)};return e.jsx(ge,{title:A("reports.title"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-3xl font-bold text-transparent dark:from-white dark:to-slate-300",children:A("reports.title")}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:A("reports.subtitle")})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{onClick:de,className:"flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 shadow-sm transition-all hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700",children:[e.jsx(Ne,{className:"size-4"}),A("reports.export")]})})]}),e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(be,{className:"size-5 text-slate-600 dark:text-slate-400"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Time Period:"}),[{value:"24hours",label:"Last 24 Hours"},{value:"7days",label:"Last 7 Days"},{value:"30days",label:"Last 30 Days"},{value:"90days",label:"Last 90 Days"}].map(t=>e.jsx("button",{onClick:()=>q(t.value),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-all ${h===t.value?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:t.label},t.value))]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(H,{className:"size-5 text-slate-600 dark:text-slate-400"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Category:"}),le.map(t=>e.jsx("button",{onClick:()=>Q(t),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-all ${b===t?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:t==="all"?"All Devices":t},t))]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-emerald-200/50 bg-gradient-to-br from-emerald-50 to-green-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-emerald-900/50 dark:from-emerald-950/50 dark:to-green-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-green-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"Average Uptime"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:j?"...":`${u?.avgUptime||0}%`}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-emerald-600 dark:text-emerald-400",children:[e.jsx(B,{className:"size-3"}),j?"Loading...":"All systems operational"]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-emerald-500 to-green-600 p-3 shadow-lg",children:e.jsx($,{className:"size-6 text-white"})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-red-200/50 bg-gradient-to-br from-red-50 to-orange-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-red-900/50 dark:from-red-950/50 dark:to-orange-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-orange-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Total Incidents"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:j?"...":u?.totalIncidents||0}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-red-600 dark:text-red-400",children:[e.jsx(K,{className:"size-3"}),j?"Loading...":"from last period"]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-red-500 to-orange-600 p-3 shadow-lg",children:e.jsx(V,{className:"size-6 text-white"})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-amber-200/50 bg-gradient-to-br from-amber-50 to-orange-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-amber-900/50 dark:from-amber-950/50 dark:to-orange-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-orange-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Total Downtime"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:j?"...":u?.totalDowntime?.formatted||"0m"}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-amber-600 dark:text-amber-400",children:[e.jsx(G,{className:"size-3"}),j?"Loading...":`${u?.totalDowntime?.percentage||0}% of total time`]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 p-3 shadow-lg",children:e.jsx(W,{className:"size-6 text-white"})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-blue-200/50 bg-gradient-to-br from-blue-50 to-indigo-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-blue-900/50 dark:from-blue-950/50 dark:to-indigo-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:"Devices Monitored"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:j?"...":u?.devicesMonitored||0}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-blue-600 dark:text-blue-400",children:[e.jsx(Y,{className:"size-3"}),j?"Loading...":"All systems operational"]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-3 shadow-lg",children:e.jsx(H,{className:"size-6 text-white"})})]})]})]}),e.jsx("div",{className:"grid gap-4 lg:grid-cols-5",children:Object.entries(ie).map(([t,r])=>{const d=(r.reduce((p,g)=>p+g.uptime,0)/r.length).toFixed(2),c=r.reduce((p,g)=>p+g.incidents,0),n=O(parseFloat(d));return e.jsxs("div",{className:`rounded-xl border border-slate-200 dark:border-slate-700 ${n.bg} p-4 shadow-md print:shadow-none`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white",children:t}),e.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[r.length," devices"]})]}),e.jsx("div",{className:`rounded-lg ${n.badge} p-1.5`,children:(()=>{const p=t.toLowerCase(),g=L(p);return e.jsx(g,{className:"size-4"})})()})]}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Avg Uptime"}),e.jsxs("span",{className:`font-bold ${n.text}`,children:[d,"%"]})]}),e.jsx("div",{className:"mt-1 h-1.5 overflow-hidden rounded-full bg-white dark:bg-slate-700",children:e.jsx("div",{className:`h-full ${n.bar}`,style:{width:`${d}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total Incidents"}),e.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:c})]})]})]},t)})}),e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white shadow-lg dark:border-slate-700/50 dark:bg-slate-800",children:[e.jsx("div",{className:"border-b border-slate-200/50 bg-gradient-to-r from-slate-50 to-slate-100 p-6 dark:border-slate-700/50 dark:from-slate-900/50 dark:to-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 p-2 shadow-lg",children:e.jsx(fe,{className:"size-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Device Uptime Statistics"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",x.length," devices â€¢ Sorted by uptime percentage"]})]})]})}),e.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:e.jsxs("table",{className:"w-full min-w-[800px] sm:min-w-0",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Device Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Category"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Uptime %"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Downtime"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Incidents"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Last Incident"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Health"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:x.sort((t,r)=>r.uptime-t.uptime).map((t,r)=>{const d=O(t.uptime);return e.jsxs("tr",{className:"transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`rounded-lg ${d.badge} p-2`,children:(()=>{const n=C.find(g=>g.name===t.device)?.category||t.category.toLowerCase(),p=L(n);return e.jsx(p,{className:"size-4"})})()}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t.device}),(()=>{const c=C.find(n=>n.name===t.device);return c?.ip_address?e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono",children:c.ip_address}):null})()]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300",children:t.category})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:(()=>{const n=C.find(i=>i.name===t.device)?.status||"unknown",p={online:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",offline:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",offline_ack:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",warning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"},g={online:"Online",offline:"Offline",offline_ack:"Acknowledged",warning:"Warning"};return e.jsx("span",{className:`inline-flex items-center justify-center rounded-full ${p[n]||"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300"} px-2 py-1 text-xs font-bold`,children:g[n]||n.toUpperCase()})})()}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-2 w-24 overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700",children:e.jsx("div",{className:`h-full ${d.bar}`,style:{width:`${t.uptime}%`}})}),e.jsxs("span",{className:`text-sm font-bold ${d.text}`,children:[t.uptime,"%"]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t.downtime})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center justify-center rounded-full ${t.incidents===0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":t.incidents<=2?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"} px-2 py-1 text-xs font-bold`,children:t.incidents})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:t.lastIncident}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center gap-1.5 rounded-full ${d.badge} ${d.text} px-3 py-1.5 text-xs font-bold uppercase`,children:t.uptime>=99.9?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"size-3"}),"Excellent"]}):t.uptime>=99.5?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"size-3"}),"Good"]}):t.uptime>=99?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"size-3"}),"Fair"]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"size-3"}),"Poor"]})})})]},r)})})]})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white shadow-lg dark:border-slate-700/50 dark:bg-slate-800",children:[e.jsx("div",{className:"border-b border-slate-200/50 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 dark:border-slate-700/50 dark:from-blue-950/30 dark:to-indigo-950/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-2 shadow-lg",children:e.jsx(Y,{className:"size-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Recent Events Timeline"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Chronological log of all device status changes"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"relative space-y-6",children:[e.jsx("div",{className:"absolute left-[21px] top-3 bottom-3 w-0.5 bg-gradient-to-b from-blue-200 via-indigo-200 to-purple-200 dark:from-blue-900 dark:via-indigo-900 dark:to-purple-900"}),J.map(t=>{const r=t.eventType==="up";return e.jsxs("div",{className:"relative flex gap-6 pl-12",children:[e.jsx("div",{className:`absolute left-[13px] top-3 size-5 rounded-full border-4 ${r?"border-emerald-500 bg-emerald-100 dark:border-emerald-400 dark:bg-emerald-900":"border-red-500 bg-red-100 dark:border-red-400 dark:bg-red-900"}`,children:e.jsx("div",{className:`absolute inset-0 rounded-full ${r?"bg-emerald-500":"bg-red-500"} animate-ping opacity-75`})}),e.jsx("div",{className:"flex-1 rounded-xl border border-slate-200 bg-gradient-to-br from-white to-slate-50 p-5 shadow-sm transition-all hover:shadow-md dark:border-slate-700 dark:from-slate-800 dark:to-slate-900",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`rounded-lg ${r?"bg-emerald-100 dark:bg-emerald-900/30":"bg-red-100 dark:bg-red-900/30"} p-2`,children:r?e.jsx(B,{className:"size-5 text-emerald-600 dark:text-emerald-400"}):e.jsx(K,{className:"size-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:t.deviceName}),e.jsxs("p",{className:"flex items-center gap-1.5 text-sm text-slate-600 dark:text-slate-400",children:[t.deviceIp," â€¢",(()=>{const d=L(t.category);return e.jsx(d,{className:"size-3"})})(),t.category]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[e.jsx("span",{className:`font-semibold ${r?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:r?"âœ“ Came Online":"âœ— Went Offline"}),t.duration&&e.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[e.jsx(G,{className:"size-3"}),"Duration: ",t.duration]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:t.timestamp.toLocaleDateString()}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:t.timestamp.toLocaleTimeString()})]})]})})]},t.id)})]})})]})]})})}export{Me as default};

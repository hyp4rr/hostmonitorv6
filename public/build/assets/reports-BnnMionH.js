import{u as oe,a as ce,b as me,r as u,j as e}from"./app-so_3s6IB.js";import{M as xe,T as P}from"./monitor-layout-BRXoWMc2.js";import{g as E}from"./device-icons-CZzWEOUv.js";import{c as T}from"./createLucideIcon-yWkQp2xk.js";import{S as V,C as L}from"./server-BmtO3NRX.js";import{T as H}from"./trending-up-B2G9mY0_.js";import{C as B}from"./clock-DRuu9T-b.js";import{W as G}from"./wifi-off-BXthfA7S.js";import{A as W}from"./activity-C72jcQKz.js";import"./app-C4xCnywQ.js";import"./x-D9l108OW.js";import"./wifi-C4Swf5D_.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ge=T("Calendar",pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],be=T("ChartColumn",he);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],fe=T("Download",ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Y=T("TrendingDown",Ne);function Re(){const{settings:ve}=oe(),{t:S}=ce(),{props:K}=me(),{currentBranch:c}=K,[m,X]=u.useState("7days"),[f,q]=u.useState("all"),[k,Q]=u.useState([]),[Z,J]=u.useState([]),[w,ee]=u.useState([]),[je,te]=u.useState(null),[d,se]=u.useState(null),[N,$]=u.useState(!0);u.useEffect(()=>{c?.id&&($(!0),fetch(`/api/reports/summary?branch_id=${c.id}&date_range=${m}&category=${f}`).then(t=>t.json()).then(t=>se(t)).catch(t=>console.error("Error fetching summary:",t)),fetch(`/api/reports/uptime-stats?branch_id=${c.id}&date_range=${m}&category=${f}`).then(t=>t.json()).then(t=>Q(t)).catch(t=>console.error("Error fetching uptime stats:",t)),fetch(`/api/reports/device-events?branch_id=${c.id}&date_range=${m}&limit=50`).then(t=>t.json()).then(t=>{const r=t.map(i=>({...i,timestamp:new Date(i.timestamp)}));J(r)}).catch(t=>console.error("Error fetching device events:",t)),fetch(`/api/reports/category-stats?branch_id=${c.id}`).then(t=>t.json()).then(t=>ee(t)).catch(t=>console.error("Error fetching category stats:",t)),fetch(`/api/reports/alert-summary?branch_id=${c.id}&date_range=${m}`).then(t=>t.json()).then(t=>te(t)).catch(t=>console.error("Error fetching alert summary:",t)).finally(()=>$(!1)))},[c?.id,m,f]);const o=f==="all"?k:k.filter(t=>t.category===f),ae=["all","Switches","Servers","WiFi","TAS","CCTV"],re={Switches:k.filter(t=>t.category==="Switches"),Servers:k.filter(t=>t.category==="Servers"),WiFi:k.filter(t=>t.category==="WiFi"),TAS:k.filter(t=>t.category==="TAS"),CCTV:k.filter(t=>t.category==="CCTV")},O=t=>t>=99.9?{bg:"bg-emerald-50 dark:bg-emerald-950/20",text:"text-emerald-700 dark:text-emerald-400",bar:"bg-emerald-500",badge:"bg-emerald-100 dark:bg-emerald-900/30"}:t>=99.5?{bg:"bg-green-50 dark:bg-green-950/20",text:"text-green-700 dark:text-green-400",bar:"bg-green-500",badge:"bg-green-100 dark:bg-green-900/30"}:t>=99?{bg:"bg-amber-50 dark:bg-amber-950/20",text:"text-amber-700 dark:text-amber-400",bar:"bg-amber-500",badge:"bg-amber-100 dark:bg-amber-900/30"}:{bg:"bg-red-50 dark:bg-red-950/20",text:"text-red-700 dark:text-red-400",bar:"bg-red-500",badge:"bg-red-100 dark:bg-red-900/30"},le=()=>{const t=m==="24hours"?"Last 24 Hours":m==="7days"?"Last 7 Days":m==="30days"?"Last 30 Days":"Last 90 Days",r=new Date().toISOString().replace(/[:.]/g,"-"),i=c.name.replace(/[^a-zA-Z0-9]/g,"_"),n=d?.devicesMonitored||o.length,x=d?.avgUptime||(o.length>0?(o.reduce((s,a)=>s+(a.uptime||0),0)/o.length).toFixed(2):"0.00"),g=d?.totalIncidents||o.reduce((s,a)=>s+a.incidents,0),y=d?.totalDowntime?.formatted||"0m",R=d?.onlineDevices||0,_=d?.offlineDevices||0,U=d?.warningDevices||0,M=d?.acknowledgedDevices||0,F={Switches:w?.switches||0,Servers:w?.servers||0,WiFi:w?.wifi||0,TAS:w?.tas||0,CCTV:w?.cctv||0},l="=".repeat(80),ie=[[l],["UTHM HOST MONITORING SYSTEM"],["DEVICE UPTIME & PERFORMANCE REPORT"],[l],[""],["Report Information"],["---"],["Generated Date & Time:",new Date().toLocaleString("en-MY",{timeZone:"Asia/Kuala_Lumpur"})],["Branch:",`${c.name} (${c.code})`],["Report Period:",t],["Category Filter:",f==="all"?"All Devices":f],["Timezone:","Asia/Kuala_Lumpur (GMT+8)"],[""],[l],["EXECUTIVE SUMMARY"],[l],["Metric","Value","Percentage"],["---","---","---"],["Total Devices Monitored",n,"100%"],["Online Devices",R,`${(R/n*100).toFixed(1)}%`],["Offline Devices",_,`${(_/n*100).toFixed(1)}%`],["Warning Devices",U,`${(U/n*100).toFixed(1)}%`],["Acknowledged Offline",M,`${(M/n*100).toFixed(1)}%`],["Average Uptime",`${x}%`,""],["Total Incidents",g,""],["Total Downtime",y,`${d?.totalDowntime?.percentage||0}%`],[""],[l],["DEVICE DISTRIBUTION BY CATEGORY"],[l],["Category","Device Count","Percentage","Status"],["---","---","---","---"],...Object.entries(F).map(([s,a])=>[s,a,`${(a/n*100).toFixed(1)}%`,a>0?"Active":"No Devices"]),[""],[l],["DETAILED DEVICE STATISTICS"],[l],["Device Name","IP Address","MAC Address","Status","Category","Manufacturer","Model","Barcode","Location","Building","Uptime %","Downtime","Response Time","Incidents","Last Check","Last Incident","Health Status"],["---","---","---","---","---","---","---","---","---","---","---","---","---","---","---","---","---"],...o.sort((s,a)=>a.uptime-s.uptime).map(s=>{const a=filteredDevices.find(p=>p.name===s.device),h=s.uptime>=99.9?"EXCELLENT â˜…â˜…â˜…â˜…â˜…":s.uptime>=99.5?"GOOD â˜…â˜…â˜…â˜…":s.uptime>=99?"FAIR â˜…â˜…â˜…":"POOR â˜…";return[s.device,a?.ip_address||"N/A",a?.mac_address||"N/A",a?.status?.toUpperCase()||"UNKNOWN",s.category,a?.brand||a?.hardware_detail?.brand||"N/A",a?.model||a?.hardware_detail?.hardware_model?.name||"N/A",a?.barcode||"N/A",a?.location||a?.location_name||"N/A",a?.building||"N/A",`${s.uptime}%`,s.downtime,a?.response_time?`${a.response_time}ms`:"N/A",s.incidents,a?.last_check||a?.last_ping?new Date(a?.last_check||a?.last_ping).toLocaleString():"Never",s.lastIncident,h]}),[""],[l],["CATEGORY PERFORMANCE ANALYSIS"],[l],["Category","Device Count","Avg Uptime %","Total Incidents","Health Rating","Status"],["---","---","---","---","---","---"],...Object.entries(F).map(([s,a])=>{const h=s.toLowerCase(),p=o.filter(j=>j.category.toLowerCase()===h||h==="wifi"&&j.category.toLowerCase()==="wifi"),v=p.length>0?(p.reduce((j,C)=>j+C.uptime,0)/p.length).toFixed(2):"0.00",A=p.reduce((j,C)=>j+C.incidents,0),b=parseFloat(v)>=99.9?"EXCELLENT â˜…â˜…â˜…â˜…â˜…":parseFloat(v)>=99.5?"GOOD â˜…â˜…â˜…â˜…":parseFloat(v)>=99?"FAIR â˜…â˜…â˜…":"POOR â˜…",I=a>0?"Operational":"No Devices";return[s,a,`${v}%`,A,b,I]}),[""],[l],["LOCATION ANALYSIS"],[l],["Location","Device Count","Avg Uptime %","Online","Offline","Status"],["---","---","---","---","---","---"],...Array.from(new Set(filteredDevices.map(s=>s.location).filter(Boolean))).map(s=>{const a=filteredDevices.filter(b=>b.location===s),h=a.length>0?(a.reduce((b,I)=>{const j=o.find(C=>filteredDevices.find(ne=>ne.name===C.device)?.location===s);return b+(j?.uptime||I.uptime_percentage||0)},0)/a.length).toFixed(2):"0.00",p=a.filter(b=>b.status==="online").length,v=a.filter(b=>b.status==="offline").length,A=parseFloat(h)>=99?"Healthy":"Needs Attention";return[s,a.length,`${h}%`,p,v,A]}),[""],[l],["DEVICES REQUIRING ATTENTION (Uptime < 99%)"],[l],["Device Name","IP Address","Category","Location","Uptime %","Status","Priority","Action Required"],["---","---","---","---","---","---","---","---"],...o.filter(s=>s.uptime<99).map(s=>{const a=filteredDevices.find(v=>v.name===s.device),h=s.uptime<95?"ðŸ”´ CRITICAL":s.uptime<97?"ðŸŸ¡ HIGH":"ðŸŸ¢ MEDIUM",p=s.uptime<95?"IMMEDIATE ACTION REQUIRED":s.uptime<97?"INVESTIGATE SOON":"MONITOR CLOSELY";return[s.device,a?.ip_address||"N/A",s.category,a?.location||"N/A",`${s.uptime}%`,a?.status?.toUpperCase()||"UNKNOWN",h,p]}),[""],[l],["CURRENTLY OFFLINE DEVICES"],[l],["Device Name","IP Address","Category","Location","Barcode","Last Seen","Offline Duration","Reason"],["---","---","---","---","---","---","---","---"],...filteredDevices.filter(s=>s.status==="offline"||s.status==="offline_ack").map(s=>[s.name,s.ip_address,s.category.charAt(0).toUpperCase()+s.category.slice(1),s.location,s.barcode||"N/A",s.last_check?new Date(s.last_check).toLocaleString():"Never",s.status==="offline"?"Unknown":"Acknowledged",s.offline_reason||"Not specified"]),[""],[l],["REPORT METADATA"],[l],["Field","Value"],["---","---"],["Report Generated By","UTHM Host Monitoring System v6.0"],["Report Type","Device Uptime & Performance Analysis"],["Data Source",`${c.name} Branch Database`],["Total Records",o.length],["Export Timestamp",r],["Report ID",`RPT-${r}`],[""],[l],["END OF REPORT"],[l]].map(s=>s.join(",")).join(`
`),de=new Blob(["\uFEFF"+ie],{type:"text/csv;charset=utf-8;"}),z=window.URL.createObjectURL(de),D=document.createElement("a");D.href=z,D.download=`UTHM_Device_Report_${i}_${m}_${r}.csv`,document.body.appendChild(D),D.click(),document.body.removeChild(D),window.URL.revokeObjectURL(z)};return e.jsx(xe,{title:S("reports.title"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-3xl font-bold text-transparent dark:from-white dark:to-slate-300",children:S("reports.title")}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:S("reports.subtitle")})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{onClick:le,className:"flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 shadow-sm transition-all hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700",children:[e.jsx(fe,{className:"size-4"}),S("reports.export")]})})]}),e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(ge,{className:"size-5 text-slate-600 dark:text-slate-400"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Time Period:"}),[{value:"24hours",label:"Last 24 Hours"},{value:"7days",label:"Last 7 Days"},{value:"30days",label:"Last 30 Days"},{value:"90days",label:"Last 90 Days"}].map(t=>e.jsx("button",{onClick:()=>X(t.value),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-all ${m===t.value?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:t.label},t.value))]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(V,{className:"size-5 text-slate-600 dark:text-slate-400"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Category:"}),ae.map(t=>e.jsx("button",{onClick:()=>q(t),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-all ${f===t?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:t==="all"?"All Devices":t},t))]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-emerald-200/50 bg-gradient-to-br from-emerald-50 to-green-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-emerald-900/50 dark:from-emerald-950/50 dark:to-green-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-green-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"Average Uptime"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:N?"...":`${d?.avgUptime||0}%`}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-emerald-600 dark:text-emerald-400",children:[e.jsx(H,{className:"size-3"}),N?"Loading...":"All systems operational"]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-emerald-500 to-green-600 p-3 shadow-lg",children:e.jsx(L,{className:"size-6 text-white"})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-red-200/50 bg-gradient-to-br from-red-50 to-orange-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-red-900/50 dark:from-red-950/50 dark:to-orange-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-orange-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Total Incidents"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:N?"...":d?.totalIncidents||0}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-red-600 dark:text-red-400",children:[e.jsx(Y,{className:"size-3"}),N?"Loading...":"from last period"]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-red-500 to-orange-600 p-3 shadow-lg",children:e.jsx(P,{className:"size-6 text-white"})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-amber-200/50 bg-gradient-to-br from-amber-50 to-orange-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-amber-900/50 dark:from-amber-950/50 dark:to-orange-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-orange-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Total Downtime"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:N?"...":d?.totalDowntime?.formatted||"0m"}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-amber-600 dark:text-amber-400",children:[e.jsx(B,{className:"size-3"}),N?"Loading...":`${d?.totalDowntime?.percentage||0}% of total time`]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 p-3 shadow-lg",children:e.jsx(G,{className:"size-6 text-white"})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-blue-200/50 bg-gradient-to-br from-blue-50 to-indigo-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-blue-900/50 dark:from-blue-950/50 dark:to-indigo-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:"Devices Monitored"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:N?"...":d?.devicesMonitored||0}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-blue-600 dark:text-blue-400",children:[e.jsx(W,{className:"size-3"}),N?"Loading...":"All systems operational"]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-3 shadow-lg",children:e.jsx(V,{className:"size-6 text-white"})})]})]})]}),e.jsx("div",{className:"grid gap-4 lg:grid-cols-5",children:Object.entries(re).map(([t,r])=>{const i=(r.reduce((g,y)=>g+y.uptime,0)/r.length).toFixed(2),n=r.reduce((g,y)=>g+y.incidents,0),x=O(parseFloat(i));return e.jsxs("div",{className:`rounded-xl border border-slate-200 dark:border-slate-700 ${x.bg} p-4 shadow-md print:shadow-none`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white",children:t}),e.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[r.length," devices"]})]}),e.jsx("div",{className:`rounded-lg ${x.badge} p-1.5`,children:(()=>{const g=t.toLowerCase(),y=E(g);return e.jsx(y,{className:"size-4"})})()})]}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Avg Uptime"}),e.jsxs("span",{className:`font-bold ${x.text}`,children:[i,"%"]})]}),e.jsx("div",{className:"mt-1 h-1.5 overflow-hidden rounded-full bg-white dark:bg-slate-700",children:e.jsx("div",{className:`h-full ${x.bar}`,style:{width:`${i}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total Incidents"}),e.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:n})]})]})]},t)})}),e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white shadow-lg dark:border-slate-700/50 dark:bg-slate-800",children:[e.jsx("div",{className:"border-b border-slate-200/50 bg-gradient-to-r from-slate-50 to-slate-100 p-6 dark:border-slate-700/50 dark:from-slate-900/50 dark:to-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 p-2 shadow-lg",children:e.jsx(be,{className:"size-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Device Uptime Statistics"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",o.length," devices â€¢ Sorted by uptime percentage"]})]})]})}),e.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:e.jsxs("table",{className:"w-full min-w-[800px] sm:min-w-0",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Device Name"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Category"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Uptime %"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Downtime"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Incidents"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Last Incident"}),e.jsx("th",{className:"px-3 sm:px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Health"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:o.sort((t,r)=>r.uptime-t.uptime).map((t,r)=>{const i=O(t.uptime);return e.jsxs("tr",{className:"transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`rounded-lg ${i.badge} p-2`,children:(()=>{const n=t.category?.toLowerCase()||"switches",x=E(n);return e.jsx(x,{className:"size-4"})})()}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t.device}),t.ip_address?e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono",children:t.ip_address}):null]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300",children:t.category})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:(()=>{const n=t.status||"unknown",x={online:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",offline:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",offline_ack:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",warning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"},g={online:"Online",offline:"Offline",offline_ack:"Acknowledged",warning:"Warning"};return e.jsx("span",{className:`inline-flex items-center justify-center rounded-full ${x[n]||"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300"} px-2 py-1 text-xs font-bold`,children:g[n]||n.toUpperCase()})})()}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-2 w-24 overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700",children:e.jsx("div",{className:`h-full ${i.bar}`,style:{width:`${t.uptime}%`}})}),e.jsxs("span",{className:`text-sm font-bold ${i.text}`,children:[t.uptime,"%"]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t.downtime})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center justify-center rounded-full ${t.incidents===0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":t.incidents<=2?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"} px-2 py-1 text-xs font-bold`,children:t.incidents})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:t.lastIncident}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center gap-1.5 rounded-full ${i.badge} ${i.text} px-3 py-1.5 text-xs font-bold uppercase`,children:t.uptime>=99.9?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"size-3"}),"Excellent"]}):t.uptime>=99.5?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"size-3"}),"Good"]}):t.uptime>=99?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"size-3"}),"Fair"]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"size-3"}),"Poor"]})})})]},r)})})]})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white shadow-lg dark:border-slate-700/50 dark:bg-slate-800",children:[e.jsx("div",{className:"border-b border-slate-200/50 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 dark:border-slate-700/50 dark:from-blue-950/30 dark:to-indigo-950/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-2 shadow-lg",children:e.jsx(W,{className:"size-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Recent Events Timeline"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Chronological log of all device status changes"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"relative space-y-6",children:[e.jsx("div",{className:"absolute left-[21px] top-3 bottom-3 w-0.5 bg-gradient-to-b from-blue-200 via-indigo-200 to-purple-200 dark:from-blue-900 dark:via-indigo-900 dark:to-purple-900"}),Z.map(t=>{const r=t.eventType==="up";return e.jsxs("div",{className:"relative flex gap-6 pl-12",children:[e.jsx("div",{className:`absolute left-[13px] top-3 size-5 rounded-full border-4 ${r?"border-emerald-500 bg-emerald-100 dark:border-emerald-400 dark:bg-emerald-900":"border-red-500 bg-red-100 dark:border-red-400 dark:bg-red-900"}`,children:e.jsx("div",{className:`absolute inset-0 rounded-full ${r?"bg-emerald-500":"bg-red-500"} animate-ping opacity-75`})}),e.jsx("div",{className:"flex-1 rounded-xl border border-slate-200 bg-gradient-to-br from-white to-slate-50 p-5 shadow-sm transition-all hover:shadow-md dark:border-slate-700 dark:from-slate-800 dark:to-slate-900",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`rounded-lg ${r?"bg-emerald-100 dark:bg-emerald-900/30":"bg-red-100 dark:bg-red-900/30"} p-2`,children:r?e.jsx(H,{className:"size-5 text-emerald-600 dark:text-emerald-400"}):e.jsx(Y,{className:"size-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:t.deviceName}),e.jsxs("p",{className:"flex items-center gap-1.5 text-sm text-slate-600 dark:text-slate-400",children:[t.deviceIp," â€¢",(()=>{const i=E(t.category);return e.jsx(i,{className:"size-3"})})(),t.category]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[e.jsx("span",{className:`font-semibold ${r?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:r?"âœ“ Came Online":"âœ— Went Offline"}),t.duration&&e.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[e.jsx(B,{className:"size-3"}),"Duration: ",t.duration]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:t.timestamp.toLocaleDateString()}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:t.timestamp.toLocaleTimeString()})]})]})})]},t.id)})]})})]})]})})}export{Re as default};

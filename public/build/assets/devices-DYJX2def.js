import{u as ue,a as be,b as ge,r as a,j as e,c as fe}from"./app-CBuYzEzT.js";import{b as ae,M as je,C as b,a as ke}from"./monitor-layout-DTiBphkK.js";import{N as te}from"./network-uo2TTzlN.js";import{S as z,C as le}from"./server-BdVZFR2W.js";import{W as Ne}from"./wifi-B1Eeu2O4.js";import{c as C}from"./createLucideIcon-BV_8C3Qr.js";import{S as ve}from"./search-BX8OY97l.js";import{R as we}from"./refresh-cw-DtpGavfv.js";import{C as U}from"./clock-BBbFBPrs.js";import{X as M}from"./x-BckIq5Pd.js";import{A as ye}from"./activity-BfRJnVkI.js";import{C as $}from"./circle-alert-Cxv4MgJw.js";import{U as ze}from"./user-CuzfTRoY.js";import{W as Ce}from"./wifi-off-Bb64p3NA.js";import"./app-Ce22IMAm.js";import"./sun-Bbu6CE2I.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],v=C("ArrowUpDown",_e);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Ae=C("Barcode",Se);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$e=C("Camera",Me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],g=C("ChevronUp",Fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],De=C("Grid3x3",Le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Ue=C("List",Be),I=[{id:"all",name:"All Devices",icon:te,count:0},{id:"switches",name:"Switch",icon:te,count:0,description:"Peralatan nadi utama rangkaian UTHM"},{id:"servers",name:"Server",icon:z,count:0,description:"Sistem aplikasi dan Web untuk kegunaan pengguna UTHM"},{id:"wifi",name:"WiFi",icon:Ne,count:0,description:"Kemudahan wifi yang disediakan untuk seluruh kawasan UTHM"},{id:"tas",name:"TAS",icon:ae,count:0,description:"Peralatan sistem kehadiran UTHM"},{id:"cctv",name:"CCTV",icon:$e,count:0,description:"Pemantauan CCTV"}],w=p=>{switch(p){case"online":return"text-green-600 dark:text-green-400";case"offline":return"text-red-600 dark:text-red-400";case"offline_ack":return"text-blue-600 dark:text-blue-400";case"warning":return"text-yellow-600 dark:text-yellow-400";default:return"text-gray-600 dark:text-gray-400"}},y=p=>{switch(p){case"online":return"bg-green-100 dark:bg-green-900/20";case"offline":return"bg-red-100 dark:bg-red-900/20";case"offline_ack":return"bg-blue-100 dark:bg-blue-900/20";case"warning":return"bg-yellow-100 dark:bg-yellow-900/20";default:return"bg-gray-100 dark:bg-gray-900/20"}},q=p=>{switch(p){case"online":return e.jsx(le,{className:"size-4"});case"offline":return e.jsx(Ce,{className:"size-4"});case"offline_ack":return e.jsx($,{className:"size-4"});case"warning":return e.jsx($,{className:"size-4"});default:return e.jsx($,{className:"size-4"})}},V=p=>{switch(p){case"offline_ack":return"OFFLINE (ACK)";case"online":return"ONLINE";case"offline":return"OFFLINE";case"warning":return"WARNING";case"unknown":return"UNKNOWN";default:return"UNKNOWN"}};function Ze(){const{settings:p}=ue(),{t:i}=be(),{props:re}=ge(),{currentBranch:c}=re,[u,H]=a.useState("all"),[f,R]=a.useState(""),[_,G]=a.useState("all"),[x,P]=a.useState("all"),[l,T]=a.useState("all"),[m,S]=a.useState("all"),[t,A]=a.useState(null),[F,K]=a.useState("list"),[n,ie]=a.useState("name"),[h,Q]=a.useState("asc"),[L,X]=a.useState(!1),[J,de]=a.useState(null),[D,ne]=a.useState(!1),[Y,oe]=a.useState([]),[Z,ce]=a.useState([]),[O,xe]=a.useState([]),j=c?.devices||[],me=I.map(s=>({...s,count:s.id==="all"?j.length:j.filter(o=>o.category===s.id).length}));a.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const he=async()=>{X(!0),setTimeout(()=>{X(!1),de(new Date)},1e3)};let r=u==="all"?j:j.filter(s=>s.category===u);f&&(r=r.filter(s=>s.name.toLowerCase().includes(f.toLowerCase())||s.ip_address.includes(f))),_!=="all"&&(r=r.filter(s=>s.status===_));const E=Y.length>0?Y:Array.from(new Set(j.map(s=>s.location).filter(Boolean))).map((s,o)=>({id:o,name:s})),W=Z.length>0?Z:Array.from(new Set(j.map(s=>s.manufacturer).filter(Boolean))).map((s,o)=>({id:o,name:s})),ee=l!=="all"?O.filter(s=>s.brand_id===parseInt(l)):O;x!=="all"&&(r=r.filter(s=>s.location===x)),l!=="all"&&(r=r.filter(s=>s.manufacturer===l)),m!=="all"&&(r=r.filter(s=>s.model===m));const k=s=>{n===s?Q(h==="asc"?"desc":"asc"):(ie(s),Q("asc"))},N=[...r].sort((s,o)=>{let d="",B="";return n==="uptime_percentage"?(d=s.uptime_percentage||0,B=o.uptime_percentage||0):(d=s[n]||"",B=o[n]||""),d<B?h==="asc"?-1:1:d>B?h==="asc"?1:-1:0}),pe=()=>{R(""),G("all"),P("all"),T("all"),S("all"),H("all")},se=[f,_!=="all",x!=="all",l!=="all",m!=="all",u!=="all"].filter(Boolean).length;return a.useEffect(()=>{c?.id&&(fetch(`/api/locations?branch_id=${c.id}`,{credentials:"same-origin",headers:{Accept:"application/json"}}).then(s=>s.ok?s.json():[]).then(s=>oe(s)).catch(s=>console.error("Error loading locations:",s)),fetch("/api/brands",{credentials:"same-origin",headers:{Accept:"application/json"}}).then(s=>s.ok?s.json():[]).then(s=>ce(s)).catch(s=>console.error("Error loading brands:",s)),fetch("/api/models",{credentials:"same-origin",headers:{Accept:"application/json"}}).then(s=>s.ok?s.json():[]).then(s=>xe(s)).catch(s=>console.error("Error loading models:",s)))},[c?.id]),e.jsx(je,{title:i("devices.title"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-4 dark:border-blue-900/30 dark:from-blue-950/20 dark:to-indigo-950/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 p-2 shadow-lg",children:e.jsx(ae,{className:"size-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:c?.name||"No Branch Selected"}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[c?.description||"Please select a branch"," • ",c?.deviceCount||0," devices"]})]})]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-3xl font-bold text-transparent dark:from-white dark:to-slate-300",children:i("devices.title")}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:i("devices.subtitle")})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ve,{className:"absolute left-3 top-1/2 size-5 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:i("devices.search"),value:f,onChange:s=>R(s.target.value),className:"w-full rounded-xl border border-slate-200 bg-white py-2.5 pl-10 pr-4 text-sm text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-white dark:placeholder-slate-500"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:he,disabled:L,className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all ${L?"bg-slate-300 text-slate-500 cursor-not-allowed dark:bg-slate-700 dark:text-slate-400":"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg hover:shadow-xl hover:scale-105"}`,title:"Ping all devices",children:[e.jsx(we,{className:`size-4 ${L?"animate-spin":""}`}),i(L?"devices.pinging":"devices.pingAll")]}),J&&e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-600 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-400",children:[e.jsx(U,{className:"size-3"}),i("devices.lastPing"),": ",J.toLocaleTimeString()]}),e.jsxs("div",{className:"flex gap-1 rounded-lg border border-slate-200 bg-white p-1 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("button",{onClick:()=>K("grid"),className:`rounded-md p-2 transition-all ${F==="grid"?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700"}`,title:"Grid View",children:e.jsx(De,{className:"size-4"})}),e.jsx("button",{onClick:()=>K("list"),className:`rounded-md p-2 transition-all ${F==="list"?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700"}`,title:"List View",children:e.jsx(Ue,{className:"size-4"})})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[["all","online","warning","offline","offline_ack"].map(s=>e.jsx("button",{onClick:()=>G(s),className:`rounded-lg px-3 py-2 text-sm font-medium transition-all ${_===s?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700"}`,children:s==="all"?i("devices.all"):s==="offline_ack"?"Offline (Ack)":s.charAt(0).toUpperCase()+s.slice(1)},s)),e.jsxs("button",{onClick:()=>ne(!D),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all ${D||l!=="all"||m!=="all"||x!=="all"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700"}`,children:["Advanced Filters",D?e.jsx(g,{className:"size-4"}):e.jsx(b,{className:"size-4"})]}),se>0&&e.jsxs("button",{onClick:pe,className:"flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm font-medium text-red-700 hover:bg-red-100 dark:border-red-900/30 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30",children:[e.jsx(M,{className:"size-4"}),"Clear All (",se,")"]})]}),D&&e.jsxs("div",{className:"rounded-xl border border-slate-200/50 bg-gradient-to-br from-white to-slate-50 p-4 shadow-inner dark:border-slate-700/50 dark:from-slate-800 dark:to-slate-900",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Location"}),e.jsxs("select",{value:x,onChange:s=>P(s.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:[e.jsxs("option",{value:"all",children:["All Locations (",E.length,")"]}),E.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]}),e.jsxs("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:["Filtered by ",c?.name||"current branch"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Brand"}),e.jsxs("select",{value:l,onChange:s=>{T(s.target.value),s.target.value==="all"&&S("all")},className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:[e.jsxs("option",{value:"all",children:["All Brands (",W.length,")"]}),W.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"From database"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Model"}),e.jsxs("select",{value:m,onChange:s=>S(s.target.value),disabled:l==="all",className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:[e.jsx("option",{value:"all",children:l==="all"?"Select brand first":`All Models (${ee.length})`}),ee.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:l==="all"?"Dependent on brand":"From database"})]})]}),(l!=="all"||m!=="all"||x!=="all")&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 border-t border-slate-200 pt-4 dark:border-slate-700",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400",children:"Active:"}),x!=="all"&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:["Location: ",E.find(s=>s.name===x)?.name||x,e.jsx("button",{onClick:()=>P("all"),className:"hover:text-blue-900 dark:hover:text-blue-100",children:e.jsx(M,{className:"size-3"})})]}),l!=="all"&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-purple-100 px-2 py-1 text-xs font-medium text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",children:["Brand: ",W.find(s=>String(s.id)===l)?.name||l,e.jsx("button",{onClick:()=>{T("all"),S("all")},className:"hover:text-purple-900 dark:hover:text-purple-100",children:e.jsx(M,{className:"size-3"})})]}),m!=="all"&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-pink-100 px-2 py-1 text-xs font-medium text-pink-700 dark:bg-pink-900/30 dark:text-pink-300",children:["Model: ",O.find(s=>String(s.id)===m)?.name||m,e.jsx("button",{onClick:()=>S("all"),className:"hover:text-pink-900 dark:hover:text-pink-100",children:e.jsx(M,{className:"size-3"})})]})]}),e.jsx("div",{className:"mt-4 rounded-lg border border-blue-200 bg-blue-50 p-3 dark:border-blue-900/30 dark:bg-blue-950/20",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ye,{className:"size-4 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),e.jsxs("div",{className:"text-xs text-blue-800 dark:text-blue-300",children:[e.jsx("p",{className:"font-semibold",children:"Advanced Filters"}),e.jsxs("p",{className:"mt-1",children:["• Location: Shows locations within ",e.jsx("strong",{children:c?.name||"current branch"})," only"]}),e.jsx("p",{children:"• Brand & Model: Loaded from database configuration"}),e.jsx("p",{children:"• Select brand to filter available models"})]})]})})]})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:me.map(s=>{const o=s.icon,d=u===s.id;return e.jsxs("button",{onClick:()=>H(s.id),className:`group flex flex-col items-center gap-3 rounded-xl border p-4 transition-all hover:scale-105 ${d?"border-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-lg dark:border-blue-400 dark:from-blue-950/30 dark:to-indigo-950/30":"border-slate-200 bg-white hover:border-slate-300 hover:shadow-md dark:border-slate-700 dark:bg-slate-800 dark:hover:border-slate-600"}`,title:s.description,children:[e.jsx("div",{className:`rounded-full p-3 transition-all ${d?"bg-gradient-to-br from-blue-500 to-indigo-600 shadow-lg":"bg-slate-100 group-hover:bg-slate-200 dark:bg-slate-700 dark:group-hover:bg-slate-600"}`,children:e.jsx(o,{className:`size-6 ${d?"text-white":"text-slate-600 dark:text-slate-400"}`})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-sm font-bold ${d?"text-blue-900 dark:text-blue-100":"text-slate-900 dark:text-white"}`,children:s.name}),s.description&&e.jsx("p",{className:`mt-1 text-xs line-clamp-2 ${d?"text-blue-700 dark:text-blue-300":"text-slate-500 dark:text-slate-400"}`,children:s.description}),e.jsxs("p",{className:`mt-1 text-xs font-semibold ${d?"text-blue-600 dark:text-blue-400":"text-slate-500 dark:text-slate-400"}`,children:[s.count," ",i("common.devices")]})]})]},s.id)})}),N.length===0&&e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white p-12 text-center shadow-lg dark:border-slate-700/50 dark:bg-slate-800",children:[e.jsx(z,{className:"mx-auto mb-4 size-12 text-slate-400"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:i("devices.noDevices")}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:i(f||_!=="all"||u!=="all"?"devices.tryAdjustingFilters":"devices.noDevicesConfigured")})]}),F==="grid"&&N.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:I.find(s=>s.id===u)?.name||"All Devices"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[r.length," device",r.length!==1?"s":""," found"]})]}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:r.map(s=>e.jsx("div",{className:"group cursor-pointer rounded-xl border border-slate-200/50 bg-white p-3 shadow transition-all hover:scale-105 hover:shadow-lg dark:border-slate-700/50 dark:bg-slate-800",onClick:()=>A(s),children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:`mb-2 rounded-lg border p-2 transition-transform group-hover:scale-110 ${y(s.status)}`,children:e.jsx(z,{className:`size-6 ${w(s.status)}`})}),e.jsx("h3",{className:"mb-1 text-sm font-semibold text-slate-900 dark:text-white line-clamp-1",children:s.name}),e.jsx("p",{className:"mb-1 text-xs text-slate-600 dark:text-slate-400",children:s.ip_address}),e.jsxs("div",{className:"mb-2 flex items-center gap-1 text-xs text-slate-500 dark:text-slate-400",children:[e.jsx(U,{className:"size-3"}),e.jsxs("span",{children:[s.uptime_percentage,"%"]})]}),e.jsxs("span",{className:`flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-medium ${y(s.status)} ${w(s.status)}`,children:[q(s.status),V(s.status)]})]})},s.id))})]}),F==="list"&&N.length>0&&e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white shadow-lg dark:border-slate-700/50 dark:bg-slate-800 overflow-hidden",children:[e.jsx("div",{className:"border-b border-slate-200/50 bg-gradient-to-r from-slate-50 to-slate-100 p-6 dark:border-slate-700/50 dark:from-slate-900/50 dark:to-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-3 shadow-lg",children:e.jsx(z,{className:"size-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:I.find(s=>s.id===u)?.name||"All Devices"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[N.length," device",N.length!==1?"s":""," found"]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>k("name"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["Name",n==="name"?h==="asc"?e.jsx(g,{className:"size-4"}):e.jsx(b,{className:"size-4"}):e.jsx(v,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>k("ip_address"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["IP Address",n==="ip_address"?h==="asc"?e.jsx(g,{className:"size-4"}):e.jsx(b,{className:"size-4"}):e.jsx(v,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>k("uptime_percentage"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["Uptime",n==="uptime_percentage"?h==="asc"?e.jsx(g,{className:"size-4"}):e.jsx(b,{className:"size-4"}):e.jsx(v,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>k("status"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["Status",n==="status"?h==="asc"?e.jsx(g,{className:"size-4"}):e.jsx(b,{className:"size-4"}):e.jsx(v,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>k("location"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["Location",n==="location"?h==="asc"?e.jsx(g,{className:"size-4"}):e.jsx(b,{className:"size-4"}):e.jsx(v,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>k("manufacturer"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["Manufacturer",n==="manufacturer"?h==="asc"?e.jsx(g,{className:"size-4"}):e.jsx(b,{className:"size-4"}):e.jsx(v,{className:"size-4 opacity-30"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:N.map(s=>e.jsxs("tr",{className:"cursor-pointer transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50",onClick:()=>A(s),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`rounded-lg border p-2 ${y(s.status)}`,children:e.jsx(z,{className:`size-4 ${w(s.status)}`})}),e.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:s.name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400 font-mono",children:s.ip_address})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(U,{className:"size-4"}),s.uptime_percentage,"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-medium ${y(s.status)} ${w(s.status)}`,children:[q(s.status),V(s.status)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.location})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:s.manufacturer&&s.model?`${s.manufacturer} ${s.model}`:"-"})]},s.id))})]})})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/90 backdrop-blur-md",onClick:()=>A(null)}),e.jsxs("div",{className:"fixed left-1/2 top-1/2 z-50 w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded-2xl border border-slate-200/50 bg-white shadow-2xl dark:border-slate-700/50 dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200/50 p-6 dark:border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`rounded-xl border p-3 ${y(t.status)}`,children:e.jsx(z,{className:`size-6 ${w(t.status)}`})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.ip_address})]})]}),e.jsx("button",{onClick:()=>A(null),className:"rounded-lg p-2 text-slate-500 transition-all hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800",children:e.jsx(M,{className:"size-5"})})]}),e.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900 dark:text-white",children:"Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:`flex items-center gap-2 rounded-full px-3 py-1 text-sm font-medium ${y(t.status)} ${w(t.status)}`,children:[q(t.status),V(t.status)]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900 dark:text-white",children:"Uptime"}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 dark:text-slate-300",children:[e.jsx(U,{className:"size-4"}),e.jsxs("span",{className:"text-lg font-semibold",children:[t.uptime_percentage,"%"]})]})]}),t.status==="offline"&&e.jsx("div",{className:"rounded-xl bg-red-50 p-4 dark:bg-red-950/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($,{className:"size-5 text-red-600 dark:text-red-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-red-700 dark:text-red-400",children:"Device Offline"}),e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"This device is currently offline and not responding to monitoring requests."})]})]})}),t.status==="offline_ack"&&t.offline_reason&&e.jsx("div",{className:"rounded-xl bg-blue-50 p-4 dark:bg-blue-950/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(le,{className:"size-5 text-blue-600 dark:text-blue-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-400",children:"Offline - Acknowledged"}),e.jsxs("div",{className:"mt-3 rounded-lg border border-blue-200 bg-white p-3 dark:border-blue-900/30 dark:bg-blue-950/30",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300",children:"Reason:"}),e.jsx("p",{className:"mt-1 text-sm text-blue-900 dark:text-blue-200",children:t.offline_reason}),t.offline_acknowledged_by&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400",children:[e.jsx(ze,{className:"size-3"}),e.jsxs("span",{children:["Acknowledged by ",t.offline_acknowledged_by]}),t.offline_acknowledged_at&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(t.offline_acknowledged_at).toLocaleString()})]})]})]})]})]})}),t.status==="warning"&&e.jsx("div",{className:"rounded-xl bg-yellow-50 p-4 dark:bg-yellow-950/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($,{className:"size-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-yellow-700 dark:text-yellow-400",children:"Device Warning"}),e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsx("div",{className:"rounded-lg border border-yellow-200 bg-white p-3 dark:border-yellow-900/30 dark:bg-yellow-950/30",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Response Time:"}),e.jsxs("span",{className:"font-bold text-yellow-900 dark:text-yellow-200",children:[t.response_time?`${t.response_time}ms`:"N/A",t.response_time&&t.response_time>100&&e.jsx("span",{className:"ml-2 text-xs",children:"(High)"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Uptime:"}),e.jsxs("span",{className:"font-bold text-yellow-900 dark:text-yellow-200",children:[t.uptime_percentage,"%",t.uptime_percentage<95&&e.jsx("span",{className:"ml-2 text-xs",children:"(Below threshold)"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Last Check:"}),e.jsx("span",{className:"font-medium text-yellow-900 dark:text-yellow-200",children:t.last_check?new Date(t.last_check).toLocaleString():"Never"})]})]})}),e.jsxs("div",{className:"rounded-lg bg-yellow-100 p-3 dark:bg-yellow-900/20",children:[e.jsx("p",{className:"text-xs font-semibold text-yellow-800 dark:text-yellow-300",children:"Possible Issues:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-yellow-700 dark:text-yellow-400",children:[t.response_time&&t.response_time>100&&e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1 size-1 rounded-full bg-yellow-600 dark:bg-yellow-400"}),e.jsx("span",{children:"High response time detected - Network congestion or device overload"})]}),t.uptime_percentage<95&&e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1 size-1 rounded-full bg-yellow-600 dark:bg-yellow-400"}),e.jsx("span",{children:"Uptime below 95% - Intermittent connectivity issues"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1 size-1 rounded-full bg-yellow-600 dark:bg-yellow-400"}),e.jsx("span",{children:"Device requires attention - Monitor closely for potential failures"})]})]})]}),e.jsxs("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:[e.jsx("p",{className:"font-medium",children:"Recommended Action:"}),e.jsx("p",{className:"mt-1",children:"Schedule maintenance check or investigate network connectivity to prevent potential downtime."})]})]})]})]})}),e.jsxs("div",{className:"rounded-xl bg-slate-50 p-4 dark:bg-slate-800",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900 dark:text-white",children:"Device Information"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Category:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:I.find(s=>s.id===t.category)?.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"IP Address:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white font-mono",children:t.ip_address})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"MAC Address:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white font-mono",children:t.mac_address})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Barcode:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"size-4 text-slate-500 dark:text-slate-400"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white font-mono",children:t.barcode})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Location:"}),e.jsxs("button",{onClick:()=>{A(null),fe.visit("/monitor/maps",{data:{deviceId:t.id,lat:t.latitude,lng:t.longitude}})},className:"flex items-center gap-1.5 rounded-lg bg-blue-100 px-3 py-1.5 text-blue-700 transition-all hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:hover:bg-blue-900/50",children:[e.jsx(ke,{className:"size-3.5"}),e.jsx("span",{className:"font-medium",children:t.location})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Manufacturer:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:t.manufacturer})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Model:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:t.model})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Device ID:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:t.id})]})]})]})]})})]})]})]})})}export{Ze as default};

import{a as Ve,b as We,r,j as e,c as we}from"./app-Bi1276fp.js";import{b as Se,M as He,C as y,a as ye,c as Ge}from"./monitor-layout-C2w6m2b6.js";import{N as _e}from"./network-BKJhYXor.js";import{S as B,C as ze}from"./server-DCQRRBFs.js";import{W as Ke}from"./wifi-hDNxGldi.js";import{c as C}from"./createLucideIcon-4p5FK-lq.js";import{S as Qe}from"./search-heTBELu4.js";import{R as Z}from"./refresh-cw-BHaJX9n5.js";import{A as Ze}from"./activity-xON8AFpi.js";import{C as _,U as Xe}from"./user-CLArjpVF.js";import{X as D,C as Je}from"./x-_iMpUtna.js";import{T as X}from"./trending-up-DdR5Eglv.js";import{C as R}from"./circle-alert-xkOX7jwk.js";import{W as Ye}from"./wifi-off-DF-dmxUv.js";import"./app-dVD4YXJP.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],F=C("ArrowUpDown",es);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],ts=C("Barcode",ss);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ls=C("Camera",as);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],is=C("Grid3x3",rs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ds=C("Info",ns);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],cs=C("List",os);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ms=C("Zap",xs),J=l=>{if(l===0)return"0m";const p=l,n=Math.floor(p/60),o=Math.floor(n/24),b=Math.floor(o/7);if(b>0){const m=o%7;return m>0?`${b}w ${m}d`:`${b}w`}else if(o>0){const m=n%24;return m>0?`${o}d ${m}h`:`${o}d`}else if(n>0){const m=p%60;return m>0?`${n}h ${m}m`:`${n}h`}else return`${p}m`},Y=[{id:"all",name:"All Devices",icon:_e,count:0},{id:"switches",name:"Switch",icon:_e,count:0,description:"Peralatan nadi utama rangkaian UTHM"},{id:"servers",name:"Server",icon:B,count:0,description:"Sistem aplikasi dan Web untuk kegunaan pengguna UTHM"},{id:"wifi",name:"WiFi",icon:Ke,count:0,description:"Kemudahan wifi yang disediakan untuk seluruh kawasan UTHM"},{id:"tas",name:"TAS",icon:Se,count:0,description:"Peralatan sistem kehadiran UTHM"},{id:"cctv",name:"CCTV",icon:ls,count:0,description:"Pemantauan CCTV"}],L=l=>{switch(l){case"online":return"text-green-600 dark:text-green-400";case"offline":return"text-red-600 dark:text-red-400";case"offline_ack":return"text-blue-600 dark:text-blue-400";case"warning":return"text-yellow-600 dark:text-yellow-400";default:return"text-gray-600 dark:text-gray-400"}},U=l=>{switch(l){case"online":return"bg-green-100 dark:bg-green-900/20";case"offline":return"bg-red-100 dark:bg-red-900/20";case"offline_ack":return"bg-blue-100 dark:bg-blue-900/20";case"warning":return"bg-yellow-100 dark:bg-yellow-900/20";default:return"bg-gray-100 dark:bg-gray-900/20"}},de=l=>{switch(l){case"online":return e.jsx(ze,{className:"size-4"});case"offline":return e.jsx(Ye,{className:"size-4"});case"offline_ack":return e.jsx(R,{className:"size-4"});case"warning":return e.jsx(R,{className:"size-4"});default:return e.jsx(R,{className:"size-4"})}},oe=l=>{switch(l){case"offline_ack":return"OFFLINE (ACK)";case"online":return"ONLINE";case"offline":return"OFFLINE";case"warning":return"WARNING";case"unknown":return"UNKNOWN";default:return"UNKNOWN"}};function zs(){const{t:l}=Ve(),{props:p}=We(),{currentBranch:n}=p,[o,b]=r.useState("all"),[m,O]=r.useState(""),[g,q]=r.useState("all"),[d,S]=r.useState("all"),[c,P]=r.useState("all"),[h,T]=r.useState("all"),[f,ee]=r.useState("all"),[t,z]=r.useState(null),[V,ce]=r.useState("list"),[j,$e]=r.useState("name"),[k,xe]=r.useState("asc"),[W,Ae]=r.useState(!1),[me,Me]=r.useState([]),[pe,De]=r.useState([]),[H,Fe]=r.useState([]),[se,Le]=r.useState([]),[G,te]=r.useState([]),[Ue,ae]=r.useState(!1),[I,le]=r.useState(1),[E,he]=r.useState(50),[ue,Be]=r.useState(0),[be,Pe]=r.useState(1),[Te,Ie]=r.useState({all:0,switches:0,servers:0,wifi:0,tas:0,cctv:0}),[re,ge]=r.useState(!1),[N,fe]=r.useState(null),[K,Ee]=r.useState(null),Re=Y.map(s=>({...s,count:Te[s.id]||0})),je=r.useCallback(async()=>{if(n?.id){ae(!0);try{const s=new URLSearchParams({branch_id:n.id.toString(),page:I.toString(),per_page:E.toString()});o!=="all"&&s.append("category",o),g!=="all"&&s.append("status",g),s.append("sort_by",j),s.append("sort_order",k);const a=await fetch(`/api/devices?${s.toString()}`,{credentials:"same-origin",headers:{Accept:"application/json"}});if(a.ok){const i=await a.json();if(i.pagination)te(i.data||[]),Be(i.pagination.total),Pe(i.pagination.last_page);else{const v=i.data||i;te(v.filter(w=>w.status!=="offline_ack"))}}}catch(s){console.error("Error fetching devices:",s)}finally{ae(!1)}}},[n?.id,I,E,o,g,j,k]),ke=r.useCallback(async()=>{if(n?.id)try{const s=await fetch(`/api/devices?branch_id=${n.id}&per_page=1`,{credentials:"same-origin",headers:{Accept:"application/json"}});if(s.ok){const a=await s.json();if(a.pagination){const v={all:a.pagination.total};for(const w of["switches","servers","wifi","tas","cctv"]){const M=await fetch(`/api/devices?branch_id=${n.id}&category=${w}&per_page=1`,{credentials:"same-origin",headers:{Accept:"application/json"}});if(M.ok){const u=await M.json();v[w]=u.pagination?.total||0}}Ie(v)}}}catch(s){console.error("Error fetching devices:",s)}finally{ae(!1)}},[n?.id]);r.useEffect(()=>{ke()},[n?.id,ke]);const Oe=async()=>{if(n?.id){ge(!0);try{const s=await fetch("/api/monitoring/ping-status",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"same-origin"});if(s.ok){const a=await s.json();Ee({total:a.stats.total||a.devices.length,online:a.stats.online||a.devices.filter(u=>u.status==="online").length,offline:a.stats.offline||a.devices.filter(u=>u.status==="offline").length,duration:a.stats.duration||0,timestamp:a.timestamp});const i=a.stats.total||a.devices.length,v=a.stats.online||a.devices.filter(u=>u.status==="online").length,w=a.stats.offline||a.devices.filter(u=>u.status==="offline").length,M=i>0?(v/i*100).toFixed(1):0;alert(`âœ… Device Status Retrieved!

Total Devices: ${i}
Online: ${v}
Offline: ${w}
Uptime: ${M}%

Note: Using status endpoint due to CSRF issues`)}else{const a=await s.json();alert(`âŒ Failed to get device status: ${a.error||"Unknown error"}`)}}catch(s){console.error("Error getting device status:",s),alert("âŒ Network error while getting device status")}finally{ge(!1)}}},ie=async s=>{fe(s);try{const a=await fetch(`/api/monitoring/device/${s}/ping`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"same-origin"});if(a.ok){const i=await a.json();te(M=>M.map(u=>u.id===s?{...u,status:i.stats.current_status,response_time:i.stats.response_time,last_ping:i.timestamp}:u)),t&&t.id===s&&z({...t,status:i.stats.current_status,response_time:i.stats.response_time,last_ping:i.timestamp});const v=i.stats.is_online?"ðŸŸ¢":"ðŸ”´",w=i.stats.performance.toUpperCase();alert(`${v} ${i.device.name}

Status: ${i.stats.current_status}
Response Time: ${i.stats.response_time||"N/A"}ms
Performance: ${w}

Note: Using GET endpoint due to CSRF issues`)}else{const i=await a.json();alert(`âŒ Failed to get device status: ${i.error||"Unknown error"}`)}}catch(a){console.error("Error getting device status:",a),alert("âŒ Network error while getting device status")}finally{fe(null)}};r.useEffect(()=>{je()},[n?.id,I,E,o,g,j,k,je]),r.useEffect(()=>{le(1)},[o,g,j,k]),r.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);let x=o==="all"?G:G.filter(s=>s.category===o);m&&(x=x.filter(s=>s.name.toLowerCase().includes(m.toLowerCase())||s.ip_address.includes(m))),g!=="all"&&(x=x.filter(s=>s.status===g));const ne=me.length>0?me:Array.from(new Set(G.map(s=>s.location).filter(Boolean))).map((s,a)=>({id:a,name:s})),Q=pe.length>0?pe:Array.from(new Set(G.map(s=>s.hardware_detail?.brand?.name||s.brand).filter(Boolean))).map((s,a)=>({id:a,name:s})),Ne=c!=="all"?H.filter(s=>s.brand_id===parseInt(c)):H;if(d!=="all"&&(x=x.filter(s=>s.location===d)),c!=="all"){const s=Q.find(a=>String(a.id)===c)?.name;s&&(x=x.filter(a=>a.brand===s||a.hardware_detail?.brand?.name===s))}if(h!=="all"){const s=H.find(a=>String(a.id)===h)?.name;s&&(x=x.filter(a=>a.model===s||a.hardware_detail?.hardware_model?.name===s))}f!=="all"&&(f==="unassigned"?x=x.filter(s=>!s.managed_by):x=x.filter(s=>String(s.managed_by)===f));const $=s=>{j===s?xe(k==="asc"?"desc":"asc"):($e(s),xe("asc"))},A=x,qe=()=>{O(""),q("all"),S("all"),P("all"),T("all"),ee("all"),b("all")},ve=[m,g!=="all",d!=="all",c!=="all",h!=="all",f!=="all",o!=="all"].filter(Boolean).length;return r.useEffect(()=>{n?.id&&(fetch(`/api/locations?branch_id=${n.id}`,{credentials:"same-origin",headers:{Accept:"application/json"}}).then(s=>s.ok?s.json():[]).then(s=>Me(s)).catch(s=>console.error("Error loading locations:",s)),fetch("/api/brands",{credentials:"same-origin",headers:{Accept:"application/json"}}).then(s=>s.ok?s.json():[]).then(s=>De(s)).catch(s=>console.error("Error loading brands:",s)),fetch("/api/models",{credentials:"same-origin",headers:{Accept:"application/json"}}).then(s=>s.ok?s.json():[]).then(s=>Fe(s)).catch(s=>console.error("Error loading models:",s)),fetch("/api/users",{credentials:"same-origin",headers:{Accept:"application/json"}}).then(s=>s.ok?s.json():[]).then(s=>Le(s)).catch(s=>console.error("Error loading users:",s)))},[n?.id]),e.jsx(He,{title:l("devices.title"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-4 dark:border-blue-900/30 dark:from-blue-950/20 dark:to-indigo-950/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 p-2 shadow-lg",children:e.jsx(Se,{className:"size-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:n?.name||"No Branch Selected"}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[n?.description||"Please select a branch"," â€¢ ",n?.deviceCount||0," devices"]})]})]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-3xl font-bold text-transparent dark:from-white dark:to-slate-300",children:l("devices.title")}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:l("devices.subtitle")})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 size-5 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:l("devices.search"),value:m,onChange:s=>O(s.target.value),className:"w-full rounded-xl border border-slate-200 bg-white py-2.5 pl-10 pr-4 text-sm text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-white dark:placeholder-slate-500"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:Oe,disabled:re||Ue||!n?.id,className:"flex items-center gap-2 rounded-lg bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-2 text-sm font-medium text-white shadow-lg transition-all hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Ping all devices in current branch",children:[e.jsx(Z,{className:`size-4 ${re?"animate-spin":""}`}),e.jsx("span",{children:re?"Pinging...":"Ping All"})]}),K&&e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-blue-50 px-3 py-2 text-sm text-blue-700 dark:bg-blue-900/20 dark:text-blue-300",children:[e.jsx(Ze,{className:"size-4"}),e.jsxs("span",{children:["Last: ",K.online,"/",K.total," online"]}),e.jsxs("span",{className:"text-xs",children:["(",K.duration,"ms)"]})]}),e.jsxs("div",{className:"flex gap-1 rounded-lg border border-slate-200 bg-white p-1 dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("button",{onClick:()=>ce("grid"),className:`rounded-md p-2 transition-all ${V==="grid"?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700"}`,title:"Grid View",children:e.jsx(is,{className:"size-4"})}),e.jsx("button",{onClick:()=>ce("list"),className:`rounded-md p-2 transition-all ${V==="list"?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700"}`,title:"List View",children:e.jsx(cs,{className:"size-4"})})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[["all","online","warning","offline"].map(s=>e.jsx("button",{onClick:()=>q(s),className:`rounded-lg px-3 py-2 text-sm font-medium transition-all ${g===s?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700"}`,children:s==="all"?l("devices.all"):s.charAt(0).toUpperCase()+s.slice(1)},s)),e.jsxs("button",{onClick:()=>Ae(!W),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all ${W||c!=="all"||h!=="all"||d!=="all"||f!=="all"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700"}`,children:["Advanced Filters",W?e.jsx(_,{className:"size-4"}):e.jsx(y,{className:"size-4"})]}),ve>0&&e.jsxs("button",{onClick:qe,className:"flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm font-medium text-red-700 hover:bg-red-100 dark:border-red-900/30 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30",children:[e.jsx(D,{className:"size-4"}),"Clear All (",ve,")"]})]}),W&&e.jsxs("div",{className:"rounded-xl border border-slate-200/50 bg-gradient-to-br from-white to-slate-50 p-4 shadow-inner dark:border-slate-700/50 dark:from-slate-800 dark:to-slate-900",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Location"}),e.jsxs("select",{value:d,onChange:s=>S(s.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:[e.jsxs("option",{value:"all",children:["All Locations (",ne.length,")"]}),ne.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]}),e.jsxs("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:["Filtered by ",n?.name||"current branch"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Brand"}),e.jsxs("select",{value:c,onChange:s=>{P(s.target.value),s.target.value==="all"&&T("all")},className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:[e.jsxs("option",{value:"all",children:["All Brands (",Q.length,")"]}),Q.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"From database"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Model"}),e.jsxs("select",{value:h,onChange:s=>T(s.target.value),disabled:c==="all",className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:[e.jsx("option",{value:"all",children:c==="all"?"Select brand first":`All Models (${Ne.length})`}),Ne.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:c==="all"?"Dependent on brand":"From database"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Managed By"}),e.jsxs("select",{value:f,onChange:s=>ee(s.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:[e.jsxs("option",{value:"all",children:["All Users (",se.length,")"]}),e.jsx("option",{value:"unassigned",children:"Unassigned"}),se.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.role,")"]},s.id))]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"Filter by device manager"})]})]}),(c!=="all"||h!=="all"||d!=="all"||f!=="all")&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 border-t border-slate-200 pt-4 dark:border-slate-700",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400",children:"Active:"}),d!=="all"&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:["Location: ",ne.find(s=>s.name===d)?.name||d,e.jsx("button",{onClick:()=>S("all"),className:"hover:text-blue-900 dark:hover:text-blue-100",children:e.jsx(D,{className:"size-3"})})]}),c!=="all"&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-purple-100 px-2 py-1 text-xs font-medium text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",children:["Brand: ",Q.find(s=>String(s.id)===c)?.name||c,e.jsx("button",{onClick:()=>{P("all"),T("all")},className:"hover:text-purple-900 dark:hover:text-purple-100",children:e.jsx(D,{className:"size-3"})})]}),h!=="all"&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-pink-100 px-2 py-1 text-xs font-medium text-pink-700 dark:bg-pink-900/30 dark:text-pink-300",children:["Model: ",H.find(s=>String(s.id)===h)?.name||h,e.jsx("button",{onClick:()=>T("all"),className:"hover:text-pink-900 dark:hover:text-pink-100",children:e.jsx(D,{className:"size-3"})})]}),f!=="all"&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300",children:["Managed By: ",f==="unassigned"?"Unassigned":se.find(s=>String(s.id)===f)?.name||f,e.jsx("button",{onClick:()=>ee("all"),className:"hover:text-green-900 dark:hover:text-green-100",children:e.jsx(D,{className:"size-3"})})]})]}),e.jsx("div",{className:"mt-4 rounded-lg border border-blue-200 bg-blue-50 p-3 dark:border-blue-900/30 dark:bg-blue-950/20",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ds,{className:"size-4 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),e.jsxs("div",{className:"text-xs text-blue-800 dark:text-blue-300",children:[e.jsx("p",{className:"font-semibold",children:"Advanced Filters"}),e.jsxs("p",{className:"mt-1",children:["â€¢ Location: Shows locations within ",e.jsx("strong",{children:n?.name||"current branch"})," only"]}),e.jsx("p",{children:"â€¢ Brand & Model: Loaded from database configuration"}),e.jsx("p",{children:"â€¢ Select brand to filter available models"})]})]})})]})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:Re.map(s=>{const a=s.icon,i=o===s.id;return e.jsxs("button",{onClick:()=>b(s.id),className:`group flex flex-col items-center gap-3 rounded-xl border p-4 transition-all hover:scale-105 ${i?"border-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-lg dark:border-blue-400 dark:from-blue-950/30 dark:to-indigo-950/30":"border-slate-200 bg-white hover:border-slate-300 hover:shadow-md dark:border-slate-700 dark:bg-slate-800 dark:hover:border-slate-600"}`,title:s.description,children:[e.jsx("div",{className:`rounded-full p-3 transition-all ${i?"bg-gradient-to-br from-blue-500 to-indigo-600 shadow-lg":"bg-slate-100 group-hover:bg-slate-200 dark:bg-slate-700 dark:group-hover:bg-slate-600"}`,children:e.jsx(a,{className:`size-6 ${i?"text-white":"text-slate-600 dark:text-slate-400"}`})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-sm font-bold ${i?"text-blue-900 dark:text-blue-100":"text-slate-900 dark:text-white"}`,children:s.name}),s.description&&e.jsx("p",{className:`mt-1 text-xs line-clamp-2 ${i?"text-blue-700 dark:text-blue-300":"text-slate-500 dark:text-slate-400"}`,children:s.description}),e.jsxs("p",{className:`mt-1 text-xs font-semibold ${i?"text-blue-600 dark:text-blue-400":"text-slate-500 dark:text-slate-400"}`,children:[s.count," ",l("common.devices")]})]})]},s.id)})}),A.length===0&&e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white p-12 text-center shadow-lg dark:border-slate-700/50 dark:bg-slate-800",children:[e.jsx(B,{className:"mx-auto mb-4 size-12 text-slate-400"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:l("devices.noDevices")}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:l(m||g!=="all"||o!=="all"?"devices.tryAdjustingFilters":"devices.noDevicesConfigured")})]}),V==="grid"&&A.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:Y.find(s=>s.id===o)?.name||"All Devices"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[x.length," device",x.length!==1?"s":""," found"]})]}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:x.map(s=>e.jsx("div",{className:"group cursor-pointer rounded-xl border border-slate-200/50 bg-white p-3 shadow transition-all hover:scale-105 hover:shadow-lg dark:border-slate-700/50 dark:bg-slate-800",onClick:()=>z(s),children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:`mb-2 rounded-lg border p-2 transition-transform group-hover:scale-110 ${U(s.status)}`,children:e.jsx(B,{className:`size-6 ${L(s.status)}`})}),e.jsx("h3",{className:"mb-1 text-sm font-semibold text-slate-900 dark:text-white line-clamp-1",children:s.name}),e.jsx("p",{className:"mb-1 text-xs text-slate-600 dark:text-slate-400",children:s.ip_address}),e.jsxs("div",{className:"mb-2 flex items-center gap-1 text-xs text-slate-500 dark:text-slate-400",children:[e.jsx(X,{className:"size-3"}),e.jsxs("span",{children:["Uptime: ",J(s.uptime_minutes)]})]}),e.jsxs("span",{className:`mb-2 flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-medium ${U(s.status)} ${L(s.status)}`,children:[de(s.status),oe(s.status)]}),e.jsxs("button",{onClick:a=>{a.stopPropagation(),ie(s.id)},disabled:N===s.id,className:"flex items-center gap-1 rounded-lg bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700 transition-all hover:bg-blue-200 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-blue-900/30 dark:text-blue-400 dark:hover:bg-blue-900/50",title:"Ping this device",children:[e.jsx(Z,{className:`size-3 ${N===s.id?"animate-spin":""}`}),e.jsx("span",{children:N===s.id?"Pinging":"Ping"})]})]})},s.id))}),e.jsx(Ce,{currentPage:I,totalPages:be,totalItems:ue,perPage:E,onPageChange:le,onPerPageChange:he})]}),V==="list"&&A.length>0&&e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white shadow-lg dark:border-slate-700/50 dark:bg-slate-800 overflow-hidden",children:[e.jsx("div",{className:"border-b border-slate-200/50 bg-gradient-to-r from-slate-50 to-slate-100 p-6 dark:border-slate-700/50 dark:from-slate-900/50 dark:to-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-3 shadow-lg",children:e.jsx(B,{className:"size-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:Y.find(s=>s.id===o)?.name||"All Devices"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[A.length," device",A.length!==1?"s":""," found"]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>$("name"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["Name",j==="name"?k==="asc"?e.jsx(_,{className:"size-4"}):e.jsx(y,{className:"size-4"}):e.jsx(F,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>$("ip_address"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["IP Address",j==="ip_address"?k==="asc"?e.jsx(_,{className:"size-4"}):e.jsx(y,{className:"size-4"}):e.jsx(F,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>$("uptime_percentage"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["Uptime",j==="uptime_percentage"?k==="asc"?e.jsx(_,{className:"size-4"}):e.jsx(y,{className:"size-4"}):e.jsx(F,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>$("status"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["Status",j==="status"?k==="asc"?e.jsx(_,{className:"size-4"}):e.jsx(y,{className:"size-4"}):e.jsx(F,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>$("location"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["Location",j==="location"?k==="asc"?e.jsx(_,{className:"size-4"}):e.jsx(y,{className:"size-4"}):e.jsx(F,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",onClick:()=>$("brand"),children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:["Brand/Model",j==="brand"?k==="asc"?e.jsx(_,{className:"size-4"}):e.jsx(y,{className:"size-4"}):e.jsx(F,{className:"size-4 opacity-30"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Actions"})})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200/50 dark:divide-slate-700/50",children:A.map(s=>e.jsxs("tr",{className:"cursor-pointer transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50",onClick:()=>z(s),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`rounded-lg border p-2 ${U(s.status)}`,children:e.jsx(B,{className:`size-4 ${L(s.status)}`})}),e.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:s.name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400 font-mono",children:s.ip_address})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(X,{className:"size-4"}),J(s.uptime_minutes)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-medium ${U(s.status)} ${L(s.status)}`,children:[de(s.status),oe(s.status)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.latitude&&s.longitude?e.jsxs("button",{onClick:a=>{a.stopPropagation(),we.visit(`/monitor/maps?deviceId=${s.id}&lat=${s.latitude}&lng=${s.longitude}`)},className:"flex items-center gap-1.5 rounded-lg bg-blue-100 px-2 py-1 text-blue-700 transition-all hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:hover:bg-blue-900/50",title:"View on map",children:[e.jsx(ye,{className:"size-3.5"}),e.jsx("span",{className:"text-xs font-medium",children:s.location})]}):e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.location})}),e.jsx("td",{className:"px-6 py-4",children:s.brand&&s.model?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:s.brand}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:s.model})]}):e.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:a=>{a.stopPropagation(),ie(s.id)},disabled:N===s.id,className:"flex items-center gap-2 rounded-lg bg-blue-100 px-3 py-1.5 text-sm font-medium text-blue-700 transition-all hover:bg-blue-200 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-blue-900/30 dark:text-blue-400 dark:hover:bg-blue-900/50",title:"Ping this device",children:[e.jsx(Z,{className:`size-3.5 ${N===s.id?"animate-spin":""}`}),e.jsx("span",{children:N===s.id?"Pinging":"Ping"})]})})]},s.id))})]})}),e.jsx(Ce,{currentPage:I,totalPages:be,totalItems:ue,perPage:E,onPageChange:le,onPerPageChange:he})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/90 backdrop-blur-md",onClick:()=>z(null)}),e.jsxs("div",{className:"fixed left-1/2 top-1/2 z-50 w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded-2xl border border-slate-200/50 bg-white shadow-2xl dark:border-slate-700/50 dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200/50 p-6 dark:border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`rounded-xl border p-3 ${U(t.status)}`,children:e.jsx(B,{className:`size-6 ${L(t.status)}`})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.ip_address})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:s=>{s.stopPropagation(),ie(t.id)},disabled:N===t.id,className:"flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-500 to-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-lg transition-all hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",title:"Ping this device",children:[e.jsx(Z,{className:`size-4 ${N===t.id?"animate-spin":""}`}),e.jsx("span",{children:N===t.id?"Pinging...":"Ping Device"})]}),e.jsx("button",{onClick:()=>z(null),className:"rounded-lg p-2 text-slate-500 transition-all hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800",children:e.jsx(D,{className:"size-5"})})]})]}),e.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900 dark:text-white",children:"Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:`flex items-center gap-2 rounded-full px-3 py-1 text-sm font-medium ${U(t.status)} ${L(t.status)}`,children:[de(t.status),oe(t.status)]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900 dark:text-white",children:"Uptime"}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 dark:text-slate-300",children:[e.jsx(X,{className:"size-4"}),e.jsx("span",{className:"text-lg font-semibold",children:J(t.uptime_minutes)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900 dark:text-white",children:"Response Time"}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-700 dark:text-slate-300",children:[e.jsx(ms,{className:"size-4"}),e.jsx("span",{className:"text-lg font-semibold",children:t.response_time?`${t.response_time}ms`:"N/A"}),t.response_time&&t.response_time>100&&e.jsx("span",{className:"rounded-full bg-yellow-100 px-2 py-0.5 text-xs font-medium text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",children:"High"})]})]}),t.status==="offline"&&e.jsx(e.Fragment,{children:t.offline_duration_minutes!==void 0&&t.offline_duration_minutes>0&&e.jsxs("div",{className:"rounded-xl bg-orange-50 p-4 dark:bg-orange-950/20",children:[e.jsx("h3",{className:"mb-2 text-sm font-semibold text-orange-900 dark:text-orange-300",children:"Offline Duration"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"size-4 text-orange-600 dark:text-orange-400"}),e.jsxs("span",{className:"text-lg font-semibold text-orange-700 dark:text-orange-400",children:[t.offline_duration_minutes," minute",t.offline_duration_minutes!==1?"s":""]}),t.offline_duration_minutes>=2&&e.jsx("span",{className:"rounded-full bg-red-100 px-2 py-0.5 text-xs font-medium text-red-700 dark:bg-red-900/30 dark:text-red-400",children:"Alert Triggered"})]}),t.offline_since&&e.jsxs("p",{className:"mt-2 text-xs text-orange-600 dark:text-orange-400",children:["Offline since: ",new Date(t.offline_since).toLocaleString()]})]})}),t.status==="offline"&&e.jsx("div",{className:"rounded-xl bg-red-50 p-4 dark:bg-red-950/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(R,{className:"size-5 text-red-600 dark:text-red-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-red-700 dark:text-red-400",children:"Device Offline"}),e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"This device is currently offline and not responding to monitoring requests."})]})]})}),t.status==="offline_ack"&&t.offline_reason&&e.jsx("div",{className:"rounded-xl bg-blue-50 p-4 dark:bg-blue-950/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ze,{className:"size-5 text-blue-600 dark:text-blue-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-400",children:"Offline - Acknowledged"}),e.jsxs("div",{className:"mt-3 rounded-lg border border-blue-200 bg-white p-3 dark:border-blue-900/30 dark:bg-blue-950/30",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300",children:"Reason:"}),e.jsx("p",{className:"mt-1 text-sm text-blue-900 dark:text-blue-200",children:t.offline_reason}),t.offline_acknowledged_by&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400",children:[e.jsx(Xe,{className:"size-3"}),e.jsxs("span",{children:["Acknowledged by ",t.offline_acknowledged_by]}),t.offline_acknowledged_at&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:new Date(t.offline_acknowledged_at).toLocaleString()})]})]})]})]})]})}),t.status==="warning"&&e.jsx("div",{className:"rounded-xl bg-yellow-50 p-4 dark:bg-yellow-950/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(R,{className:"size-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-yellow-700 dark:text-yellow-400",children:"Device Warning"}),e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsx("div",{className:"rounded-lg border border-yellow-200 bg-white p-3 dark:border-yellow-900/30 dark:bg-yellow-950/30",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Response Time:"}),e.jsxs("span",{className:"font-bold text-yellow-900 dark:text-yellow-200",children:[t.response_time?`${t.response_time}ms`:"N/A",t.response_time&&t.response_time>100&&e.jsx("span",{className:"ml-2 text-xs",children:"(High)"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Uptime:"}),e.jsx("span",{className:"font-bold text-yellow-900 dark:text-yellow-200",children:J(t.uptime_minutes)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Last Check:"}),e.jsx("span",{className:"font-medium text-yellow-900 dark:text-yellow-200",children:t.last_check?new Date(t.last_check).toLocaleString():"Never"})]})]})}),e.jsxs("div",{className:"rounded-lg bg-yellow-100 p-3 dark:bg-yellow-900/20",children:[e.jsx("p",{className:"text-xs font-semibold text-yellow-800 dark:text-yellow-300",children:"Possible Issues:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-yellow-700 dark:text-yellow-400",children:[t.response_time&&t.response_time>100&&e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1 size-1 rounded-full bg-yellow-600 dark:bg-yellow-400"}),e.jsx("span",{children:"High response time detected - Network congestion or device overload"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1 size-1 rounded-full bg-yellow-600 dark:bg-yellow-400"}),e.jsx("span",{children:"Device requires attention - Monitor closely for potential failures"})]})]})]}),e.jsxs("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:[e.jsx("p",{className:"font-medium",children:"Recommended Action:"}),e.jsx("p",{className:"mt-1",children:"Schedule maintenance check or investigate network connectivity to prevent potential downtime."})]})]})]})]})}),e.jsxs("div",{className:"rounded-xl bg-slate-50 p-4 dark:bg-slate-800",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900 dark:text-white",children:"Device Information"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Category:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:Y.find(s=>s.id===t.category)?.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"IP Address:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white font-mono",children:t.ip_address})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"MAC Address:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white font-mono",children:t.mac_address})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Barcode:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"size-4 text-slate-500 dark:text-slate-400"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white font-mono",children:t.barcode})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Serial Number:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white font-mono",children:t.serial_number||"-"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Managed By:"}),e.jsx("div",{className:"text-right",children:t.managed_by_user?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:t.managed_by_user.name}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.managed_by_user.email}),e.jsx("span",{className:`mt-1 inline-flex rounded-full px-2 py-0.5 text-xs font-medium ${t.managed_by_user.role==="admin"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:t.managed_by_user.role})]}):e.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:"Not assigned"})})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Response Time:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:t.response_time?`${t.response_time}ms`:"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Last Ping:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:t.last_ping?new Date(t.last_ping).toLocaleString():"Never"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Last Updated:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:t.updated_at?new Date(t.updated_at).toLocaleString():"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Location:"}),e.jsxs("button",{onClick:()=>{z(null),we.visit("/monitor/maps",{data:{deviceId:t.id,lat:t.latitude,lng:t.longitude}})},className:"flex items-center gap-1.5 rounded-lg bg-blue-100 px-3 py-1.5 text-blue-700 transition-all hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:hover:bg-blue-900/50",children:[e.jsx(ye,{className:"size-3.5"}),e.jsx("span",{className:"font-medium",children:t.location})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Brand/Model:"}),t.brand&&t.model?e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:t.brand}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.model})]}):e.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:"-"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Device ID:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:t.id})]})]})]})]})})]})]})]})})}function Ce({currentPage:l,totalPages:p,totalItems:n,perPage:o,onPageChange:b,onPerPageChange:m}){const O=(l-1)*o+1,g=Math.min(l*o,n),q=()=>{const d=[];if(p<=5)for(let c=1;c<=p;c++)d.push(c);else{d.push(1),l>3&&d.push("...");const c=Math.max(2,l-1),P=Math.min(p-1,l+1);for(let h=c;h<=P;h++)d.push(h);l<p-2&&d.push("..."),d.push(p)}return d};return p<=1?null:e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 bg-white px-4 py-3 dark:border-slate-700 dark:bg-slate-800 sm:px-6",children:[e.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>b(l-1),disabled:l===1,className:"relative inline-flex items-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200",children:"Previous"}),e.jsx("button",{onClick:()=>b(l+1),disabled:l===p,className:"relative ml-3 inline-flex items-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:["Showing ",e.jsx("span",{className:"font-medium",children:O})," to ",e.jsx("span",{className:"font-medium",children:g})," of"," ",e.jsx("span",{className:"font-medium",children:n})," results"]}),e.jsxs("select",{value:o,onChange:d=>m(Number(d.target.value)),className:"rounded-md border border-slate-300 bg-white px-3 py-1.5 text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200",children:[e.jsx("option",{value:25,children:"25 per page"}),e.jsx("option",{value:50,children:"50 per page"}),e.jsx("option",{value:100,children:"100 per page"}),e.jsx("option",{value:200,children:"200 per page"})]})]}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>b(l-1),disabled:l===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-slate-400 ring-1 ring-inset ring-slate-300 hover:bg-slate-50 disabled:opacity-50 dark:ring-slate-600 dark:hover:bg-slate-700",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(Ge,{className:"size-5"})]}),q().map((d,S)=>d==="..."?e.jsx("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-slate-700 ring-1 ring-inset ring-slate-300 dark:text-slate-300 dark:ring-slate-600",children:"..."},`ellipsis-${S}`):e.jsx("button",{onClick:()=>b(d),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ring-1 ring-inset ring-slate-300 dark:ring-slate-600 ${l===d?"z-10 bg-blue-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-slate-900 hover:bg-slate-50 dark:text-slate-100 dark:hover:bg-slate-700"}`,children:d},d)),e.jsxs("button",{onClick:()=>b(l+1),disabled:l===p,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-slate-400 ring-1 ring-inset ring-slate-300 hover:bg-slate-50 disabled:opacity-50 dark:ring-slate-600 dark:hover:bg-slate-700",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(Je,{className:"size-5"})]})]})})]})]})}export{zs as default};

import{u as ie,a as de,b as ne,r as g,j as e}from"./app-Bi1276fp.js";import{M as oe,T as U}from"./monitor-layout-C2w6m2b6.js";import{c as S}from"./createLucideIcon-4p5FK-lq.js";import{S as D,C as A}from"./server-DCQRRBFs.js";import{T as _}from"./trending-up-DdR5Eglv.js";import{C as M}from"./clock-BUg19uus.js";import{W as F}from"./wifi-off-DF-dmxUv.js";import{A as E}from"./activity-xON8AFpi.js";import"./app-dVD4YXJP.js";import"./x-_iMpUtna.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],me=S("Calendar",ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],z=S("ChartColumn",xe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ge=S("Download",pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],P=S("TrendingDown",he);function Ae(){const{settings:be}=ie(),{t:w}=de(),{props:V}=ne(),{currentBranch:d}=V,[n,H]=g.useState("7days"),[j,B]=g.useState("all"),[b,G]=g.useState([]),[W,Y]=g.useState([]),[ue,K]=g.useState([]),[fe,X]=g.useState(null),[k,q]=g.useState(null),[h,I]=g.useState(!0);g.useEffect(()=>{d?.id&&(I(!0),fetch(`/api/reports/summary?branch_id=${d.id}&date_range=${n}`).then(t=>t.json()).then(t=>q(t)).catch(t=>console.error("Error fetching summary:",t)),fetch(`/api/reports/uptime-stats?branch_id=${d.id}&date_range=${n}`).then(t=>t.json()).then(t=>G(t)).catch(t=>console.error("Error fetching uptime stats:",t)),fetch(`/api/reports/device-events?branch_id=${d.id}&date_range=${n}&limit=50`).then(t=>t.json()).then(t=>{const r=t.map(i=>({...i,timestamp:new Date(i.timestamp)}));Y(r)}).catch(t=>console.error("Error fetching device events:",t)),fetch(`/api/reports/category-stats?branch_id=${d.id}`).then(t=>t.json()).then(t=>K(t)).catch(t=>console.error("Error fetching category stats:",t)),fetch(`/api/reports/alert-summary?branch_id=${d.id}&date_range=${n}`).then(t=>t.json()).then(t=>X(t)).catch(t=>console.error("Error fetching alert summary:",t)).finally(()=>I(!1)))},[d?.id,n]);const x=j==="all"?b:b.filter(t=>t.category===j),Q=["all","Switches","Servers","WiFi","TAS","CCTV"],Z={Switches:b.filter(t=>t.category==="Switches"),Servers:b.filter(t=>t.category==="Servers"),WiFi:b.filter(t=>t.category==="WiFi"),TAS:b.filter(t=>t.category==="TAS"),CCTV:b.filter(t=>t.category==="CCTV")},L=t=>t>=99.9?{bg:"bg-emerald-50 dark:bg-emerald-950/20",text:"text-emerald-700 dark:text-emerald-400",bar:"bg-emerald-500",badge:"bg-emerald-100 dark:bg-emerald-900/30"}:t>=99.5?{bg:"bg-green-50 dark:bg-green-950/20",text:"text-green-700 dark:text-green-400",bar:"bg-green-500",badge:"bg-green-100 dark:bg-green-900/30"}:t>=99?{bg:"bg-amber-50 dark:bg-amber-950/20",text:"text-amber-700 dark:text-amber-400",bar:"bg-amber-500",badge:"bg-amber-100 dark:bg-amber-900/30"}:{bg:"bg-red-50 dark:bg-red-950/20",text:"text-red-700 dark:text-red-400",bar:"bg-red-500",badge:"bg-red-100 dark:bg-red-900/30"},J=()=>{const t=n==="24hours"?"Last 24 Hours":n==="7days"?"Last 7 Days":n==="30days"?"Last 30 Days":"Last 90 Days",r=new Date().toISOString().replace(/[:.]/g,"-"),i=d.name.replace(/[^a-zA-Z0-9]/g,"_"),o=x.length,u=allDevices.filter(s=>s.status==="online").length,f=allDevices.filter(s=>s.status==="offline").length,v=allDevices.filter(s=>s.status==="warning").length,R=allDevices.filter(s=>s.status==="offline_ack").length,ee=o>0?(x.reduce((s,a)=>s+(a.uptime||0),0)/o).toFixed(2):"0.00",te=x.reduce((s,a)=>s+a.incidents,0),$={Switches:allDevices.filter(s=>s.category==="switches").length,Servers:allDevices.filter(s=>s.category==="servers").length,WiFi:allDevices.filter(s=>s.category==="wifi").length,TAS:allDevices.filter(s=>s.category==="tas").length,CCTV:allDevices.filter(s=>s.category==="cctv").length},l="=".repeat(80),se=[[l],["UTHM HOST MONITORING SYSTEM"],["DEVICE UPTIME & PERFORMANCE REPORT"],[l],[""],["Report Information"],["---"],["Generated Date & Time:",new Date().toLocaleString("en-MY",{timeZone:"Asia/Kuala_Lumpur"})],["Branch:",`${d.name} (${d.code})`],["Report Period:",t],["Category Filter:",j==="all"?"All Devices":j],["Timezone:","Asia/Kuala_Lumpur (GMT+8)"],[""],[l],["EXECUTIVE SUMMARY"],[l],["Metric","Value","Percentage"],["---","---","---"],["Total Devices Monitored",o,"100%"],["Online Devices",u,`${(u/o*100).toFixed(1)}%`],["Offline Devices",f,`${(f/o*100).toFixed(1)}%`],["Warning Devices",v,`${(v/o*100).toFixed(1)}%`],["Acknowledged Offline",R,`${(R/o*100).toFixed(1)}%`],["Average Uptime",`${ee}%`,""],["Total Incidents",te,""],[""],[l],["DEVICE DISTRIBUTION BY CATEGORY"],[l],["Category","Device Count","Percentage","Status"],["---","---","---","---"],...Object.entries($).map(([s,a])=>[s,a,`${(a/o*100).toFixed(1)}%`,a>0?"Active":"No Devices"]),[""],[l],["DETAILED DEVICE STATISTICS"],[l],["Device Name","IP Address","MAC Address","Status","Category","Manufacturer","Model","Barcode","Location","Building","Uptime %","Downtime","Response Time","Incidents","Last Check","Last Incident","Health Status"],["---","---","---","---","---","---","---","---","---","---","---","---","---","---","---","---","---"],...x.sort((s,a)=>a.uptime-s.uptime).map(s=>{const a=allDevices.find(c=>c.name===s.device),p=s.uptime>=99.9?"EXCELLENT â˜…â˜…â˜…â˜…â˜…":s.uptime>=99.5?"GOOD â˜…â˜…â˜…â˜…":s.uptime>=99?"FAIR â˜…â˜…â˜…":"POOR â˜…";return[s.device,a?.ip_address||"N/A",a?.mac_address||"N/A",a?.status?.toUpperCase()||"UNKNOWN",s.category,a?.manufacturer||"N/A",a?.model||"N/A",a?.barcode||"N/A",a?.location||"N/A",a?.building||"N/A",`${s.uptime}%`,s.downtime,a?.response_time?`${a.response_time}ms`:"N/A",s.incidents,a?.last_check?new Date(a.last_check).toLocaleString():"Never",s.lastIncident,p]}),[""],[l],["CATEGORY PERFORMANCE ANALYSIS"],[l],["Category","Device Count","Avg Uptime %","Total Incidents","Health Rating","Status"],["---","---","---","---","---","---"],...Object.entries($).map(([s,a])=>{const p=s.toLowerCase(),c=x.filter(N=>N.category.toLowerCase()===p||p==="wifi"&&N.category.toLowerCase()==="wifi"),m=c.length>0?(c.reduce((N,T)=>N+T.uptime,0)/c.length).toFixed(2):"0.00",C=c.reduce((N,T)=>N+T.incidents,0),re=parseFloat(m)>=99.9?"EXCELLENT â˜…â˜…â˜…â˜…â˜…":parseFloat(m)>=99.5?"GOOD â˜…â˜…â˜…â˜…":parseFloat(m)>=99?"FAIR â˜…â˜…â˜…":"POOR â˜…",le=a>0?"Operational":"No Devices";return[s,a,`${m}%`,C,re,le]}),[""],[l],["LOCATION ANALYSIS"],[l],["Location","Device Count","Avg Uptime %","Status"],["---","---","---","---"],...Array.from(new Set(allDevices.map(s=>s.location).filter(Boolean))).map(s=>{const a=allDevices.filter(m=>m.location===s),p=a.length>0?(a.reduce((m,C)=>m+(C.uptime_percentage||0),0)/a.length).toFixed(2):"0.00",c=parseFloat(p)>=99?"Healthy":"Needs Attention";return[s,a.length,`${p}%`,c]}),[""],[l],["DEVICES REQUIRING ATTENTION (Uptime < 99%)"],[l],["Device Name","IP Address","Category","Location","Uptime %","Status","Priority","Action Required"],["---","---","---","---","---","---","---","---"],...x.filter(s=>s.uptime<99).map(s=>{const a=allDevices.find(m=>m.name===s.device),p=s.uptime<95?"ðŸ”´ CRITICAL":s.uptime<97?"ðŸŸ¡ HIGH":"ðŸŸ¢ MEDIUM",c=s.uptime<95?"IMMEDIATE ACTION REQUIRED":s.uptime<97?"INVESTIGATE SOON":"MONITOR CLOSELY";return[s.device,a?.ip_address||"N/A",s.category,a?.location||"N/A",`${s.uptime}%`,a?.status?.toUpperCase()||"UNKNOWN",p,c]}),[""],[l],["CURRENTLY OFFLINE DEVICES"],[l],["Device Name","IP Address","Category","Location","Barcode","Last Seen","Offline Duration","Reason"],["---","---","---","---","---","---","---","---"],...allDevices.filter(s=>s.status==="offline"||s.status==="offline_ack").map(s=>[s.name,s.ip_address,s.category.charAt(0).toUpperCase()+s.category.slice(1),s.location,s.barcode||"N/A",s.last_check?new Date(s.last_check).toLocaleString():"Never",s.status==="offline"?"Unknown":"Acknowledged",s.offline_reason||"Not specified"]),[""],[l],["REPORT METADATA"],[l],["Field","Value"],["---","---"],["Report Generated By","UTHM Host Monitoring System v6.0"],["Report Type","Device Uptime & Performance Analysis"],["Data Source",`${d.name} Branch Database`],["Total Records",x.length],["Export Timestamp",r],["Report ID",`RPT-${r}`],[""],[l],["END OF REPORT"],[l]].map(s=>s.join(",")).join(`
`),ae=new Blob(["\uFEFF"+se],{type:"text/csv;charset=utf-8;"}),O=window.URL.createObjectURL(ae),y=document.createElement("a");y.href=O,y.download=`UTHM_Device_Report_${i}_${n}_${r}.csv`,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(O)};return e.jsx(oe,{title:w("reports.title"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-3xl font-bold text-transparent dark:from-white dark:to-slate-300",children:w("reports.title")}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:w("reports.subtitle")})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{onClick:J,className:"flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 shadow-sm transition-all hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700",children:[e.jsx(ge,{className:"size-4"}),w("reports.export")]})})]}),e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(me,{className:"size-5 text-slate-600 dark:text-slate-400"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Time Period:"}),[{value:"24hours",label:"Last 24 Hours"},{value:"7days",label:"Last 7 Days"},{value:"30days",label:"Last 30 Days"},{value:"90days",label:"Last 90 Days"}].map(t=>e.jsx("button",{onClick:()=>H(t.value),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-all ${n===t.value?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:t.label},t.value))]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(D,{className:"size-5 text-slate-600 dark:text-slate-400"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Category:"}),Q.map(t=>e.jsx("button",{onClick:()=>B(t),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-all ${j===t?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:t==="all"?"All Devices":t},t))]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-emerald-200/50 bg-gradient-to-br from-emerald-50 to-green-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-emerald-900/50 dark:from-emerald-950/50 dark:to-green-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-green-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"Average Uptime"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:h?"...":`${k?.avgUptime||0}%`}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-emerald-600 dark:text-emerald-400",children:[e.jsx(_,{className:"size-3"}),h?"Loading...":"All systems operational"]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-emerald-500 to-green-600 p-3 shadow-lg",children:e.jsx(A,{className:"size-6 text-white"})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-red-200/50 bg-gradient-to-br from-red-50 to-orange-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-red-900/50 dark:from-red-950/50 dark:to-orange-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-orange-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Total Incidents"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:h?"...":k?.totalIncidents||0}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-red-600 dark:text-red-400",children:[e.jsx(P,{className:"size-3"}),h?"Loading...":"from last period"]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-red-500 to-orange-600 p-3 shadow-lg",children:e.jsx(U,{className:"size-6 text-white"})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-amber-200/50 bg-gradient-to-br from-amber-50 to-orange-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-amber-900/50 dark:from-amber-950/50 dark:to-orange-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-orange-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Total Downtime"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:h?"...":k?.totalDowntime?.formatted||"0m"}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-amber-600 dark:text-amber-400",children:[e.jsx(M,{className:"size-3"}),h?"Loading...":`${k?.totalDowntime?.percentage||0}% of total time`]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 p-3 shadow-lg",children:e.jsx(F,{className:"size-6 text-white"})})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-blue-200/50 bg-gradient-to-br from-blue-50 to-indigo-50 p-6 shadow-lg transition-all hover:scale-105 print:shadow-none dark:border-blue-900/50 dark:from-blue-950/50 dark:to-indigo-950/50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:"Devices Monitored"}),e.jsx("p",{className:"mt-2 text-4xl font-bold text-slate-900 dark:text-white",children:h?"...":k?.devicesMonitored||0}),e.jsxs("p",{className:"mt-1 flex items-center gap-1 text-xs text-blue-600 dark:text-blue-400",children:[e.jsx(E,{className:"size-3"}),h?"Loading...":"All systems operational"]})]}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-3 shadow-lg",children:e.jsx(D,{className:"size-6 text-white"})})]})]})]}),e.jsx("div",{className:"grid gap-4 lg:grid-cols-5",children:Object.entries(Z).map(([t,r])=>{const i=(r.reduce((f,v)=>f+v.uptime,0)/r.length).toFixed(2),o=r.reduce((f,v)=>f+v.incidents,0),u=L(parseFloat(i));return e.jsxs("div",{className:`rounded-xl border border-slate-200 dark:border-slate-700 ${u.bg} p-4 shadow-md print:shadow-none`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white",children:t}),e.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[r.length," devices"]})]}),e.jsx("div",{className:`rounded-lg ${u.badge} p-1.5`,children:t==="Servers"?e.jsx(D,{className:"size-4"}):t==="Switches"?e.jsx(E,{className:"size-4"}):e.jsx(z,{className:"size-4"})})]}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Avg Uptime"}),e.jsxs("span",{className:`font-bold ${u.text}`,children:[i,"%"]})]}),e.jsx("div",{className:"mt-1 h-1.5 overflow-hidden rounded-full bg-white dark:bg-slate-700",children:e.jsx("div",{className:`h-full ${u.bar}`,style:{width:`${i}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total Incidents"}),e.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:o})]})]})]},t)})}),e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white shadow-lg dark:border-slate-700/50 dark:bg-slate-800",children:[e.jsx("div",{className:"border-b border-slate-200/50 bg-gradient-to-r from-slate-50 to-slate-100 p-6 dark:border-slate-700/50 dark:from-slate-900/50 dark:to-slate-800/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 p-2 shadow-lg",children:e.jsx(z,{className:"size-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Device Uptime Statistics"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",x.length," devices â€¢ Sorted by uptime percentage"]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Device Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Uptime %"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Downtime"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Incidents"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Last Incident"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300",children:"Health"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:x.sort((t,r)=>r.uptime-t.uptime).map((t,r)=>{const i=L(t.uptime);return e.jsxs("tr",{className:"transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`rounded-lg ${i.badge} p-2`,children:e.jsx(D,{className:"size-4"})}),e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t.device})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300",children:t.category})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-2 w-24 overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700",children:e.jsx("div",{className:`h-full ${i.bar}`,style:{width:`${t.uptime}%`}})}),e.jsxs("span",{className:`text-sm font-bold ${i.text}`,children:[t.uptime,"%"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t.downtime})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center justify-center rounded-full ${t.incidents===0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":t.incidents<=2?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"} px-2 py-1 text-xs font-bold`,children:t.incidents})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:t.lastIncident}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center gap-1.5 rounded-full ${i.badge} ${i.text} px-3 py-1.5 text-xs font-bold uppercase`,children:t.uptime>=99.9?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"size-3"}),"Excellent"]}):t.uptime>=99.5?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"size-3"}),"Good"]}):t.uptime>=99?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"size-3"}),"Fair"]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"size-3"}),"Poor"]})})})]},r)})})]})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white shadow-lg dark:border-slate-700/50 dark:bg-slate-800",children:[e.jsx("div",{className:"border-b border-slate-200/50 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 dark:border-slate-700/50 dark:from-blue-950/30 dark:to-indigo-950/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 p-2 shadow-lg",children:e.jsx(E,{className:"size-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Recent Events Timeline"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Chronological log of all device status changes"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"relative space-y-6",children:[e.jsx("div",{className:"absolute left-[21px] top-3 bottom-3 w-0.5 bg-gradient-to-b from-blue-200 via-indigo-200 to-purple-200 dark:from-blue-900 dark:via-indigo-900 dark:to-purple-900"}),W.map(t=>{const r=t.eventType==="up";return e.jsxs("div",{className:"relative flex gap-6 pl-12",children:[e.jsx("div",{className:`absolute left-[13px] top-3 size-5 rounded-full border-4 ${r?"border-emerald-500 bg-emerald-100 dark:border-emerald-400 dark:bg-emerald-900":"border-red-500 bg-red-100 dark:border-red-400 dark:bg-red-900"}`,children:e.jsx("div",{className:`absolute inset-0 rounded-full ${r?"bg-emerald-500":"bg-red-500"} animate-ping opacity-75`})}),e.jsx("div",{className:"flex-1 rounded-xl border border-slate-200 bg-gradient-to-br from-white to-slate-50 p-5 shadow-sm transition-all hover:shadow-md dark:border-slate-700 dark:from-slate-800 dark:to-slate-900",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`rounded-lg ${r?"bg-emerald-100 dark:bg-emerald-900/30":"bg-red-100 dark:bg-red-900/30"} p-2`,children:r?e.jsx(_,{className:"size-5 text-emerald-600 dark:text-emerald-400"}):e.jsx(P,{className:"size-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:t.deviceName}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.deviceIp," â€¢ ",t.category]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[e.jsx("span",{className:`font-semibold ${r?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:r?"âœ“ Came Online":"âœ— Went Offline"}),t.duration&&e.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[e.jsx(M,{className:"size-3"}),"Duration: ",t.duration]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:t.timestamp.toLocaleDateString()}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:t.timestamp.toLocaleTimeString()})]})]})})]},t.id)})]})})]})]})})}export{Ae as default};

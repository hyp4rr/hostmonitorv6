import{u as C,a as $,b as z,j as e,c as D}from"./app-DsbjyKGf.js";import{T as n,M as _,a as v}from"./monitor-layout-Dq_xIMSU.js";import{g as A}from"./device-icons-Bh4xq8HI.js";import{S as j,C as N}from"./server-Ca-qE3nK.js";import{W as T}from"./wifi-Ccv0dO_b.js";import{C as G}from"./clock-cCztJzz1.js";import{G as S}from"./globe-Bik382tr.js";import{A as U}from"./activity-BRPubSy7.js";import"./app-DiM3Qhuw.js";import"./x-8qECKafY.js";import"./createLucideIcon-BnSOlFpd.js";function J(){const{settings:I}=C(),{t:a}=$(),{currentBranch:L,stats:d,deviceTypes:c,locationStats:x,recentAlerts:m,recentActivity:h,lastUpdate:k,error:g}=z().props,w=new Date(k),y=[{name:a("dashboard.totalDevices"),value:d.totalDevices,icon:j,gradient:"from-blue-500 to-indigo-600",bgGradient:"from-blue-50 to-indigo-50 dark:from-blue-950/50 dark:to-indigo-950/50"},{name:a("dashboard.online"),value:d.onlineDevices,icon:N,gradient:"from-emerald-500 to-green-600",bgGradient:"from-emerald-50 to-green-50 dark:from-emerald-950/50 dark:to-green-950/50"},{name:a("dashboard.offline"),value:d.offlineDevices,icon:T,gradient:"from-rose-500 to-red-600",bgGradient:"from-rose-50 to-red-50 dark:from-rose-950/50 dark:to-red-950/50"},{name:a("dashboard.warning"),value:d.warningDevices,icon:n,gradient:"from-yellow-500 to-amber-500",bgGradient:"from-yellow-50 to-amber-50 dark:from-yellow-950/50 dark:to-amber-950/50"}];return e.jsx(_,{title:a("dashboard.title"),children:e.jsxs("div",{className:"space-y-6",children:[g&&e.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 dark:border-red-900/30 dark:bg-red-950/20",children:e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:g})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-2xl sm:text-3xl font-bold text-transparent dark:from-white dark:to-slate-300",children:a("dashboard.title")}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:a("dashboard.subtitle")})]}),e.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-slate-100 px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium text-slate-700 dark:bg-slate-800 dark:text-slate-300",children:[e.jsx(G,{className:"size-4"}),e.jsx("span",{children:w.toLocaleTimeString()})]})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:y.map(t=>{const r=t.icon;return e.jsxs("div",{className:`group relative overflow-hidden rounded-2xl border border-slate-200/50 bg-gradient-to-br ${t.bgGradient} p-6 shadow-lg backdrop-blur-sm transition-all hover:scale-105 hover:shadow-2xl dark:border-slate-700/50`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t.name}),e.jsx("p",{className:"mt-2 text-3xl sm:text-4xl font-bold text-slate-900 dark:text-white",children:t.value})]}),e.jsx("div",{className:`rounded-xl bg-gradient-to-br ${t.gradient} p-3 shadow-lg`,children:e.jsx(r,{className:"size-6 text-white"})})]}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.gradient} opacity-0 transition-opacity group-hover:opacity-5`})]},t.name)})}),e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-gradient-to-br from-white to-slate-50 p-6 shadow-lg dark:border-slate-700/50 dark:from-slate-800 dark:to-slate-900",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 p-3 shadow-lg",children:e.jsx(j,{className:"size-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:a("dashboard.deviceTypes")}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Distribution breakdown"})]})]}),c.length>0?e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-5",children:c.map((t,r)=>e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-slate-200/50 bg-white p-4 transition-all hover:scale-105 hover:shadow-lg dark:border-slate-700/50 dark:bg-slate-900",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.color.replace("bg-","from-")}/10 to-transparent opacity-0 transition-opacity group-hover:opacity-100`}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:t.count}),e.jsx("div",{className:`rounded-lg ${t.color} p-2`,children:(()=>{const o=A(t.type);return e.jsx(o,{className:"size-4 text-white"})})()})]}),e.jsx("h3",{className:"mb-2 text-sm font-semibold text-slate-700 dark:text-slate-300",children:t.type}),e.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("span",{children:"of total"}),e.jsxs("span",{className:"font-bold",children:[t.percentage,"%"]})]}),e.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700",children:e.jsx("div",{className:`h-full rounded-full ${t.color} transition-all duration-500`,style:{width:`${t.percentage}%`}})})]})]},r))}):e.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No device data available"})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-gradient-to-br from-white to-slate-50 p-6 shadow-lg dark:border-slate-700/50 dark:from-slate-800 dark:to-slate-900",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 p-3 shadow-lg",children:e.jsx(v,{className:"size-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:a("dashboard.locationStatus")}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Devices by location • Click to view on map"})]})]}),x.length>0?e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:x.map((t,r)=>e.jsxs("button",{onClick:()=>{D.visit("/monitor/maps",{data:{location:t.location,focusLocation:!0}})},className:"group relative overflow-hidden rounded-xl border border-slate-200/50 bg-white p-4 text-left transition-all hover:scale-105 hover:shadow-lg hover:border-blue-300 dark:border-slate-700/50 dark:bg-slate-900 dark:hover:border-blue-600 cursor-pointer",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 opacity-0 transition-opacity group-hover:opacity-100"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"size-4 text-slate-500 group-hover:text-blue-600 transition-colors dark:text-slate-400 dark:group-hover:text-blue-400"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-900 group-hover:text-blue-700 transition-colors dark:text-white dark:group-hover:text-blue-300",children:t.location})]}),e.jsx(v,{className:"size-4 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity group-hover:text-blue-600 dark:group-hover:text-blue-400"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total Devices"}),e.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:t.devices})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[e.jsx(N,{className:"size-3"}),"Online"]}),e.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:t.online})]}),t.offline>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[e.jsx(n,{className:"size-3"}),"Offline"]}),e.jsx("span",{className:"font-bold text-red-600 dark:text-red-400",children:t.offline})]})]}),e.jsx("div",{className:"mt-3 h-1.5 overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all",style:{width:`${t.online/t.devices*100}%`}})}),e.jsx("div",{className:"mt-2 opacity-0 group-hover:opacity-100 transition-opacity text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Click to view on map →"})]})]},r))}):e.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No location data available"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white/80 shadow-lg backdrop-blur-sm dark:border-slate-700/50 dark:bg-slate-800/80",children:[e.jsx("div",{className:"border-b border-slate-200/50 p-6 dark:border-slate-700/50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"rounded-lg bg-gradient-to-br from-red-500 to-orange-500 p-2",children:e.jsx(n,{className:"size-5 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:a("dashboard.recentAlerts")})]})}),e.jsx("div",{className:"max-h-[400px] divide-y divide-slate-200/50 overflow-y-auto dark:divide-slate-700/50",children:m.length>0?m.map(t=>e.jsx("div",{className:"p-4 transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`size-2 rounded-full ${t.severity==="critical"?"bg-red-500":t.severity==="warning"?"bg-amber-500":t.severity==="info"?"bg-blue-500":"bg-gray-500"}`}),e.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:t.device_name})]}),e.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-400",children:t.message}),e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-500",children:t.created_at_human})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${t.status==="active"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":t.status==="acknowledged"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"}`,children:t.status}),t.resolved&&e.jsx("span",{className:"rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-400",children:"Resolved"})]})]})},t.id)):e.jsx("div",{className:"p-8 text-center text-sm text-slate-500 dark:text-slate-400",children:"No recent alerts"})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200/50 bg-white/80 shadow-lg backdrop-blur-sm dark:border-slate-700/50 dark:bg-slate-800/80",children:[e.jsx("div",{className:"border-b border-slate-200/50 p-6 dark:border-slate-700/50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"rounded-lg bg-gradient-to-br from-blue-500 to-indigo-500 p-2",children:e.jsx(U,{className:"size-5 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:a("dashboard.recentActivity")})]})}),e.jsx("div",{className:"max-h-[400px] divide-y divide-slate-200/50 overflow-y-auto dark:divide-slate-700/50",children:h.length>0?h.map(t=>{const r=l=>{switch(l){case"created":return"bg-green-500";case"updated":return"bg-blue-500";case"deleted":return"bg-red-500";default:return"bg-slate-500"}},o=(l,p,s)=>`${s?.device_name||s?.location_name||s?.brand_name||s?.model_name||"Unknown"} ${l==="created"?"added":l==="updated"?"updated":"removed"}`,b=l=>{if(!l?.changes)return null;const p=l.changes,s=Object.keys(p);if(s.length===0)return null;const i=u=>u.split("_").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" ");return s.length===1?`Changed ${i(s[0])}`:s.length===2?`Changed ${i(s[0])} and ${i(s[1])}`:`Changed ${s.length} fields`};return e.jsxs("div",{className:"flex items-center gap-4 p-4 transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[e.jsx("div",{className:`size-2 rounded-full ${r(t.action)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:o(t.action,t.entity_type,t.details)}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[t.entity_type.charAt(0).toUpperCase()+t.entity_type.slice(1)," • ",t.user,b(t.details)&&e.jsxs("span",{className:"ml-1",children:["• ",b(t.details)]})]})]}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.time_ago})]},t.id)}):e.jsx("div",{className:"p-8 text-center text-sm text-slate-500 dark:text-slate-400",children:"No recent activity"})})]})]})]})})}export{J as default};
